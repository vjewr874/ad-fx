{"version":3,"sources":["pages/management-history/components/history-info/HistoryInfo.js","pages/management-history/detail/index.js","../node_modules/reactstrap/es/Col.js","../node_modules/reactstrap/es/Card.js","ultils/convertDate.js","components/Loader/index.js","ultils/currentFormacy.js","services/systemConfig.js","../node_modules/reactstrap/es/Spinner.js","components/Modal/management-history/ModalInputId.js","services/history.js"],"names":["HistoryInfo","props","useState","undefined","typeApprove","setTypeApprove","userIdModal","data","paymentDepositTransactionId","paymentWithdrawTransactionId","paymentExchangeTransactionId","className","Card","title","Badge","style","marginLeft","lineHeight","marginTop","color","active","notActive","paymentStatus","isPermissionApprove","type","border","padding","margin","cursor","onClick","handleIsOpenModal","handleApproveRefuseRequest","size","fontWeight","paymentBonusTransactionId","exchangePaymentMappingOrderId","Row","Col","lg","FormGroup","Label","Input","value","username","disabled","phoneNumber","customerPhone","email","convertTimeDate","createdAt","paymentApproveDate","staffName","paymentNote","currencyFormatUSD","paymentAmount","paymentRef","paymentOwner","paymentOriginName","paymentOriginSource","cryptoWalletAddress","cryptoNetwork","cryptoUnit","paymentRefImageUrl","backgroundImage","paddingTop","ModalInputId","isOpenModal","typeHistory","listPermissionUser","JSON","parse","window","localStorage","getItem","permissions","split","Detail","history","useHistory","useParams","id","setTitle","dataDetailHistory","setDataDetailHistory","setIsOpenModal","isLoadingSubmit","setIsLoadingSubmit","useEffect","handleChangeTypeHistory","getDetailHistory","api","History","detailHistory","then","res","statusCode","message","toast","warn","Loader","nameStaff","typeCheck","validateImage","API","approveRefuseRequest","success","trueFalse","typePermission","includes","Button","go","stringOrNumberProp","PropTypes","oneOfType","number","string","columnProps","bool","shape","order","offset","propTypes","tag","tagPropType","xs","sm","md","xl","cssModule","object","widths","array","defaultProps","getColumnSizeClass","isXs","colWidth","colSize","Tag","attributes","_objectWithoutPropertiesLoose","colClasses","forEach","i","columnProp","isObject","_classNames","colSizeInterfix","colClass","push","mapToCssModules","classNames","_colClass","length","classes","React","createElement","_extends","inverse","body","outline","innerRef","func","ref","moment","toString","format","convertDateVN","currencyFormat","Intl","NumberFormat","minimumFractionDigits","SystemConfig","Promise","resolve","reject","Request","send","method","path","result","error","Error","catch","params","children","Spinner","role","setPaymentRef","setPaymentNote","isOpen","toggle","rows","onChange","e","target","src","alt","width","height","objectFit","name","accept","file","files","convertFileToBase64","dataUrl","newData","replace","dataImage","imageData","imageFormat","uploadImage","r","handleChangeImage","console","log"],"mappings":"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","file":"static/js/31.d0268efe.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Badge, Card, Col, FormGroup, Input, Label, Row } from \"reactstrap\";\nimport { convertTimeDate } from \"../../../../ultils/convertDate\";\nimport \"../styles/HistoryInfo.scss\"\nimport { currencyFormat, currencyFormatUSD } from \"../../../../ultils/currentFormacy\";\nimport { Check, X } from \"react-feather\";\nimport ModalInputId from \"../../../../components/Modal/management-history/ModalInputId\";\n\nconst HistoryInfo = (props) => {\n    const [typeApprove, setTypeApprove] = useState(undefined)\n    const statusObj = {\n        active: 'light-success',\n        notActive: 'light-danger'\n    }\n    const userIdModal = props.data.paymentDepositTransactionId || props?.data.paymentWithdrawTransactionId || props?.data?.paymentExchangeTransactionId || \"\"\n\n    return (\n        <div className=\"detail-historyInfo\">\n            <Card className={\"p-2 mb-3\"}>\n                <div className={\"d-flex align-items-center\"}>\n                    <h3 className={\"detail-title\"}>{props?.title}</h3>\n                    {\n\n                        <Badge style={{ marginLeft: \"20px\", lineHeight: \"20px\", marginTop: \"-8px\" }}\n                            className='text-capitalize'\n                            color={statusObj[props?.data?.paymentStatus === \"Completed\" ? \"active\" : props?.data?.paymentStatus === \"Canceled\" ? \"notActive\" : \"\"]}>\n                            {\n                                (props?.data?.paymentStatus === \"Completed\" ? 'Đã duyệt' : props?.data?.paymentStatus === \"Canceled\" ? 'Từ chối' : props?.data?.paymentStatus === \"New\" ? \"Chưa duyệt\" : \"\")}\n                        </Badge>\n                    }\n                    {\n                        props.data?.paymentStatus === \"New\" && props?.isPermissionApprove(props.type) &&\n                        <>\n                            <div style={{\n                                border: \"solid 1px green\",\n                                padding: \"4px 8px\",\n                                margin: \"-8px 0 0 20px\",\n                                cursor: \"pointer\"\n                            }}\n                                // onClick={() => }\n                                onClick={() => {\n                                    setTypeApprove(\"approve\")\n                                    if (props?.type === \"PaymentWithdrawTransaction\" || props?.type === \"PaymentDepositTransaction\") {\n                                        props?.handleIsOpenModal(true)\n                                    }\n                                    else {\n                                        props?.handleApproveRefuseRequest(props.data.paymentDepositTransactionId || props?.data.paymentWithdrawTransactionId || props?.data?.paymentExchangeTransactionId, \"approve\")\n                                    }\n                                }\n                                }\n                            >\n                                <Check style={{ color: \"green\" }} size={14} className='mr-50' />\n                                <span className='align-middle' style={{ color: \"green\" }}>Duyệt yêu cầu</span>\n                            </div>\n                            <div style={{\n                                border: \"solid 1px red\",\n                                padding: \"4px 8px\",\n                                margin: \"-8px 0 0 20px\",\n                                cursor: \"pointer\"\n                            }}\n                                onClick={() =>\n                                // props.handleApproveRefuseRequest(props.data.paymentDepositTransactionId || props?.data.paymentWithdrawTransactionId || props?.data?.exchangePaymentMappingOrderId, \"refuse\")\n                                {\n                                    setTypeApprove(\"refuse\")\n                                    if (props?.type === \"PaymentWithdrawTransaction\" || props?.type === \"PaymentDepositTransaction\") {\n                                        props?.handleIsOpenModal(true)\n                                    }\n                                    else {\n                                        props?.handleApproveRefuseRequest(props.data.paymentDepositTransactionId || props?.data.paymentWithdrawTransactionId || props?.data?.paymentExchangeTransactionId, \"refuse\")\n                                    }\n                                }\n                                }\n                            >\n                                <X style={{ color: \"red\" }} size={14} className='mr-50' />\n                                <span className='align-middle' style={{ color: \"red\" }}>Từ chối yêu cầu</span>\n                            </div>\n                        </>\n                    }\n                </div>\n                <h4 className={\"mt-1\"}>Mã đơn: <span\n                    style={{ fontWeight: \"bold\" }}>#{props.data.paymentDepositTransactionId || props?.data.paymentWithdrawTransactionId || props?.data?.paymentBonusTransactionId || props?.data?.exchangePaymentMappingOrderId || \"\"}</span>\n                </h4>\n            </Card>\n            <Row className={\"detail-input\"}>\n                <Col lg={6}>\n                    <Card className={\"p-2\"}>\n                        <FormGroup>\n                            <Label>Tên tài khoản</Label>\n                            <Input value={props?.data?.username || \"\"} disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Số điện thoại</Label>\n                            <Input value={props?.data?.phoneNumber || props?.data?.customerPhone || \"\"} disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Email</Label>\n                            <Input value={props?.data?.email || \"\"} disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Trạng thái</Label>\n                            <Input\n                                value={props?.data?.paymentStatus === \"Completed\" ? 'Đã duyệt' : props?.data?.paymentStatus === \"Canceled\" ? 'Từ chối' : props?.data?.paymentStatus === \"New\" ? \"Chưa duyệt\" : \"\"}\n                                disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Ngày tạo</Label>\n                            <Input value={convertTimeDate(props?.data?.createdAt) || \"\"} disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Ngày duyệt</Label>\n                            <Input value={convertTimeDate(props?.data?.paymentApproveDate) || \"\"} disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Người duyệt</Label>\n                            <Input value={props?.data?.staffName || \"\"} disabled />\n                        </FormGroup>\n                        <FormGroup>\n                            <Label>Ghi chú</Label>\n                            <Input value={props?.data?.paymentNote || \"\"} disabled />\n                        </FormGroup>\n\n                    </Card>\n                </Col>\n                <Col lg={6}>\n                    <Card className={\"p-2\"}>\n                        <FormGroup>\n                            <Label>Số\n                                tiền {props?.data?.paymentExchangeTransactionId ? `bán` : props?.data?.paymentWithdrawTransactionId ? `rút` : props?.data?.paymentBonusTransactionId ? `rút` : `được nạp`}</Label>\n                            <Input value={currencyFormatUSD(props?.data?.paymentAmount || \"\")} disabled />\n                        </FormGroup>\n                        {\n                            props?.data?.paymentRef &&\n                            <FormGroup>\n                                <Label>Mã giao dịch</Label>\n                                <Input value={props?.data?.paymentRef || \"\"} disabled />\n                            </FormGroup>\n                        }\n                        {\n                            props?.data?.paymentOwner &&\n                            <FormGroup>\n                                <Label>Tên tài khoản</Label>\n                                <Input value={props?.data?.paymentOwner || \"\"} disabled />\n                            </FormGroup>\n                        }\n                        {\n                            props?.data?.paymentOriginName &&\n                            <FormGroup>\n                                <Label>Số tài khoản</Label>\n                                <Input value={props?.data?.paymentOriginName || \"\"} disabled />\n                            </FormGroup>\n                        }\n                        {\n                            props?.data?.paymentOriginSource &&\n                            <FormGroup>\n                                <Label>Tên ngân hàng</Label>\n                                <Input value={props?.data?.paymentOriginSource || \"\"} disabled />\n                            </FormGroup>\n                        }\n\n                        {\n                            props?.data?.cryptoWalletAddress &&\n                            <FormGroup>\n                                <Label>Địa chỉ ví</Label>\n                                <Input value={props?.data?.cryptoWalletAddress || \"\"} disabled />\n                            </FormGroup>\n                        }\n                        {\n                            props?.data?.cryptoNetwork &&\n                            <FormGroup>\n                                <Label>Mạng</Label>\n                                <Input value={props?.data?.cryptoNetwork || \"\"} disabled />\n                            </FormGroup>\n                        }\n                        {\n                            props?.data?.cryptoUnit &&\n                            <FormGroup>\n                                <Label>Đơn vị</Label>\n                                <Input value={props?.data?.cryptoUnit || \"\"} disabled />\n                            </FormGroup>\n                        }\n                        {(props?.data?.paymentDepositTransactionId || props?.data?.paymentWithdrawTransactionId) &&\n                            <FormGroup>\n                                <Label>Hình ảnh giao dịch</Label>\n                                <div className={'image-detail-order'}>\n                                    <Row className={props?.data?.paymentRefImageUrl ? 'justify-content-center' : ''}>\n                                        <Col lg={6}>\n                                            <div className={\"image\"} style={{\n                                                backgroundImage: `url(\"${props?.data?.paymentRefImageUrl ? props?.data?.paymentRefImageUrl : \"\"}\")`,\n                                                paddingTop: \"70%\"\n                                            }} />\n                                        </Col>\n                                    </Row>\n                                </div>\n                            </FormGroup>\n                        }\n\n                    </Card>\n                </Col>\n            </Row>\n            <ModalInputId userIdModal={userIdModal} isOpenModal={props?.isOpenModal}\n                handleIsOpenModal={props?.handleIsOpenModal}\n                handleApproveRefuseRequest={props.handleApproveRefuseRequest}\n                typeApprove={typeApprove}\n                typeHistory={props?.type}\n            />\n        </div>\n    )\n}\nexport default HistoryInfo","import { Button } from \"reactstrap\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport HistoryInfo from \"../components/history-info/HistoryInfo\";\nimport History from \"../../../services/history\";\nimport { toast } from \"react-toastify\";\nimport Loader from \"../../../components/Loader\";\n\nconst userData = JSON.parse(window.localStorage.getItem(\"userData\"));\nconst listPermissionUser = userData.permissions.split(\",\");\n\nconst Detail = () => {\n  const history = useHistory();\n  const { type, id } = useParams();\n  const [title, setTitle] = useState(\"\");\n  const [dataDetailHistory, setDataDetailHistory] = useState([]);\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const [isLoadingSubmit, setIsLoadingSubmit] = useState(false);\n  useEffect(() => {\n    handleChangeTypeHistory();\n  }, []);\n  const handleIsOpenModal = (trueFalse) => {\n    setIsOpenModal(trueFalse);\n  };\n\n  function getDetailHistory(api) {\n    History.detailHistory({ id: id }, api).then((res) => {\n      if (res) {\n        const { statusCode, data, message } = res;\n        if (statusCode === 200) {\n          setDataDetailHistory(data);\n        } else {\n          toast.warn(message || \"Đã có lỗi xảy ra!\");\n        }\n      } else {\n        setDataDetailHistory([]);\n      }\n    });\n  }\n  function handleChangeTypeHistory() {\n    switch (type) {\n      case \"PaymentDepositTransaction\":\n        setTitle(\"Chi tiết nạp tiền\");\n        getDetailHistory(\"/PaymentDepositTransaction/findById\");\n        break;\n      case \"PaymentWithdrawTransaction\":\n        setTitle(\"Chi tiết rút tiền\");\n        getDetailHistory(\"/PaymentWithdrawTransaction/findById\");\n        break;\n      case \"WalletRecord\":\n        setTitle(\"Chi tiết giao dịch\");\n        // getDetailHistory(\"/WalletRecord/findById\")\n        break;\n      case \"PaymentBonusTransaction\":\n        setTitle(\"Chi tiết rút hoa hồng\");\n        getDetailHistory(\"/PaymentBonusTransaction/findById\");\n        break;\n      case \"PaymentExchangeTransaction\":\n        setTitle(\"Chi tiết yêu cầu bán\");\n        getDetailHistory(\"/PaymentExchangeTransaction/findById\");\n        break;\n      default:\n        return null;\n    }\n  }\n\n  const isPermissionApprove = (typePermission) => {\n    return listPermissionUser.includes(\n      `${typePermission === \"PaymentDepositTransaction\"\n        ? \"APPROVE_DEPOSIT\"\n        : typePermission === \"PaymentWithdrawTransaction\"\n          ? \"APPROVE_WITHDRAW\"\n          : typePermission === \"PaymentBonusTransaction\"\n            ? \"APPROVE_WITHDRAW\"\n            : \"\"\n      }`\n    );\n  };\n\n\n  const handleApproveRefuseRequest = (\n    id,\n    typeCheck,\n    paymentNote,\n    paymentRef,\n    validateImage\n  ) => {\n    if (\n      type === \"PaymentDepositTransaction\" ||\n      type === \"PaymentWithdrawTransaction\"\n    ) {\n      if (\n        paymentNote === null ||\n        paymentNote === undefined ||\n        paymentNote === \"\"\n      ) {\n        toast.warn(\"Vui lòng nhập ghi chú\");\n        return;\n      }\n    }\n    if (validateImage) {\n      if (\n        typeCheck === \"approve\" &&\n        (paymentRef === \"\" || paymentRef === undefined || paymentRef === null)\n      ) {\n        toast.warn(\"Vui lòng chọn ảnh giao dịch\");\n        return;\n      }\n    }\n\n    // if (validateImage && typeCheck===\"approve\"){\n    //     if (typeCheck===\"approve\" && (paymentRef===\"\"||paymentRef===undefined || paymentRef===null)){\n    //         toast.warn(\"Vui lòng chọn ảnh giao dịch\")\n    //         return\n    //     }\n    // }\n\n    let API = \"\";\n    if (typeCheck === \"approve\" && type === \"PaymentDepositTransaction\") {\n      API += \"/PaymentDepositTransaction/approveDepositTransaction\";\n    }\n    if (typeCheck === \"refuse\" && type === \"PaymentDepositTransaction\") {\n      API += \"/PaymentDepositTransaction/denyDepositTransaction\";\n    }\n    if (typeCheck === \"approve\" && type === \"PaymentWithdrawTransaction\") {\n      API += \"/PaymentWithdrawTransaction/approveWithdrawTransaction\";\n    }\n    if (typeCheck === \"refuse\" && type === \"PaymentWithdrawTransaction\") {\n      API += \"/PaymentWithdrawTransaction/denyWithdrawTransaction\";\n    }\n    if (typeCheck === \"approve\" && type === \"PaymentBonusTransaction\") {\n      API += \"/PaymentBonusTransaction/approveBonusTransaction\";\n    }\n    if (typeCheck === \"refuse\" && type === \"PaymentBonusTransaction\") {\n      API += \"/PaymentBonusTransaction/denyBonusTransaction\";\n    }\n    if (typeCheck === \"approve\" && type === \"PaymentExchangeTransaction\") {\n      API += \"/PaymentExchangeTransaction/approveExchangeTransaction\";\n    }\n    if (typeCheck === \"refuse\" && type === \"PaymentExchangeTransaction\") {\n      API += \"/PaymentExchangeTransaction/denyExchangeTransaction\";\n    }\n    setIsOpenModal(false);\n    setIsLoadingSubmit(true);\n    History.approveRefuseRequest(\n      {\n        id,\n        paymentRef: paymentRef || undefined,\n        paymentNote: paymentNote || undefined,\n      },\n      API\n    ).then((res) => {\n      setIsLoadingSubmit(false);\n      if (res) {\n        const { statusCode } = res;\n        if (statusCode === 200) {\n          toast.success(\"Thành công!\");\n          handleChangeTypeHistory();\n          setIsOpenModal(false);\n        } else {\n          toast.warn(\"Đã có lỗi xảy ra!\");\n        }\n      }\n    });\n  };\n\n  return (\n    <div className={\"detail-historyList\"}>\n      {isLoadingSubmit ? <Loader /> : null}\n      <HistoryInfo\n        title={title}\n        data={dataDetailHistory}\n        nameStaff={dataDetailHistory?.staffName}\n        id={id}\n        type={type}\n        handleApproveRefuseRequest={handleApproveRefuseRequest}\n        handleIsOpenModal={handleIsOpenModal}\n        isOpenModal={isOpenModal}\n        isPermissionApprove={isPermissionApprove}\n      />\n      <div className={\"d-flex justify-content-end align-items-center\"}>\n        <Button\n          color={\"primary\"}\n          className={\"mr-2\"}\n          // onClick={() => history.push('/history/list')}\n          onClick={() => history.go(-1)}\n        >\n          Trở lại\n        </Button>\n      </div>\n    </div>\n  );\n};\nexport default Detail;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType, isObject } from './utils';\nvar colWidths = ['xs', 'sm', 'md', 'lg', 'xl'];\nvar stringOrNumberProp = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\nvar columnProps = PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string, PropTypes.shape({\n  size: PropTypes.oneOfType([PropTypes.bool, PropTypes.number, PropTypes.string]),\n  order: stringOrNumberProp,\n  offset: stringOrNumberProp\n})]);\nvar propTypes = {\n  tag: tagPropType,\n  xs: columnProps,\n  sm: columnProps,\n  md: columnProps,\n  lg: columnProps,\n  xl: columnProps,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  widths: PropTypes.array\n};\nvar defaultProps = {\n  tag: 'div',\n  widths: colWidths\n};\n\nvar getColumnSizeClass = function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : \"col-\" + colWidth;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : \"col-\" + colWidth + \"-auto\";\n  }\n\n  return isXs ? \"col-\" + colSize : \"col-\" + colWidth + \"-\" + colSize;\n};\n\nvar Col = function Col(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      widths = props.widths,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"widths\", \"tag\"]);\n\n  var colClasses = [];\n  widths.forEach(function (colWidth, i) {\n    var columnProp = props[colWidth];\n    delete attributes[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    var isXs = !i;\n\n    if (isObject(columnProp)) {\n      var _classNames;\n\n      var colSizeInterfix = isXs ? '-' : \"-\" + colWidth + \"-\";\n      var colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n      colClasses.push(mapToCssModules(classNames((_classNames = {}, _classNames[colClass] = columnProp.size || columnProp.size === '', _classNames[\"order\" + colSizeInterfix + columnProp.order] = columnProp.order || columnProp.order === 0, _classNames[\"offset\" + colSizeInterfix + columnProp.offset] = columnProp.offset || columnProp.offset === 0, _classNames)), cssModule));\n    } else {\n      var _colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n\n      colClasses.push(_colClass);\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  var classes = mapToCssModules(classNames(className, colClasses), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCol.propTypes = propTypes;\nCol.defaultProps = defaultProps;\nexport default Col;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;","import moment from \"moment\";\n\nexport const convertTimeDate=(value)=>{\n    return moment(value?.toString()).format(\"HH:mm   DD/MM/YYYY\")\n}\nexport const convertDateVN=(value)=>{\n    return moment(value?.toString()).format(\"DD/MM/YYYY\")\n}","import { Spinner } from \"reactstrap\";\nimport \"./style/style.scss\";\n\nfunction Loader() {\n  return (\n    <div className={\"loader\"}>\n      <Spinner color=\"info\">Loading...</Spinner>\n    </div>\n  );\n}\nexport default Loader;\n","export const currencyFormat=(value)=>{\n    return new Intl.NumberFormat(\"vi-VN\").format(value)\n}\nexport const currencyFormatUSD = (value) => {\n    return new Intl.NumberFormat('en-US', {\n        minimumFractionDigits: 2\n    }).format(value)\n}\n","import Request from \"./request\";\nexport default class SystemConfig {\n    static async showSystemConfig(data = {}) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/SystemConfigurations/find\",\n                data: data,\n            }).then((result) => {\n                const { statusCode, error } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    reject(new Error(error));\n                }\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n    static async updateSystemConfig(data = {}) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/SystemConfigurations/updateConfigs\",\n                data: data,\n            }).then((result) => {\n                const { statusCode, error } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    reject(new Error(error));\n                }\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n    static async uploadImage(params) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/Upload/uploadMediaFile\",\n                data: params\n            }).then(result => {\n                const { statusCode, data, message } = result\n                if (statusCode === 200) {\n                    resolve(data)\n                } else {\n                    throw new Error(message);\n                }\n            }).catch(error => {\n                reject(error);\n            })\n        })\n    }\n    static async changeIncreaseDecreasePoint(params,type) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: `/Wallet/${type}Balance`,\n                data: params\n            }).then(result => {\n                const { statusCode, data, message } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    throw new Error(message);\n                }\n            }).catch(error => {\n                reject(error);\n            })\n        })\n    }\n    static async updateDetailCustomer(params) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: `/AppUsers/updateUserById`,\n                data: params\n            }).then(result => {\n                const { statusCode, data, message } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    throw new Error(message);\n                }\n            }).catch(error => {\n                reject(error);\n            })\n        })\n    }\n\n    static async updatePasswordCustomer(params) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: `/AppUsers/adminChangePasswordUser`,\n                data: params\n            }).then(result => {\n                const { statusCode, data, message } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    throw new Error(message);\n                }\n            }).catch(error => {\n                reject(error);\n            })\n        })\n    }\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  type: PropTypes.string,\n  size: PropTypes.string,\n  color: PropTypes.string,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  children: PropTypes.string\n};\nvar defaultProps = {\n  tag: 'div',\n  type: 'border',\n  children: 'Loading...'\n};\n\nvar Spinner = function Spinner(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      type = props.type,\n      size = props.size,\n      color = props.color,\n      children = props.children,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"type\", \"size\", \"color\", \"children\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, size ? \"spinner-\" + type + \"-\" + size : false, \"spinner-\" + type, color ? \"text-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({\n    role: \"status\"\n  }, attributes, {\n    className: classes\n  }), children && /*#__PURE__*/React.createElement(\"span\", {\n    className: mapToCssModules('sr-only', cssModule)\n  }, children));\n};\n\nSpinner.propTypes = propTypes;\nSpinner.defaultProps = defaultProps;\nexport default Spinner;","import {Button, Col, FormGroup, Input, Label, Modal, ModalBody, ModalHeader, Row} from \"reactstrap\";\n\nimport React, {useState} from \"react\";\nimport {Plus, Trash2} from \"react-feather\";\nimport {convertFileToBase64} from \"../../../helper/common\";\nimport SystemConfig from \"../../../services/systemConfig\";\nimport '../../../pages/system-configuration/style/system-configuration.scss'\n\nconst ModalInputId=(props)=>{\n    const [paymentRef,setPaymentRef]=useState(null)\n    const [paymentNote,setPaymentNote]=useState(\"\")\n\n    function handleChangeImage (e) {\n        const file = e?.target?.files[0]\n        convertFileToBase64(file).then((dataUrl) => {\n            const newData = dataUrl.replace(/,/gi, \"\").split(\"base64\")\n            if (newData[1]) {\n                const dataImage = {\n                    imageData: newData[1],\n                    imageFormat: file.type.replace(\"image/\", \"\"),\n                }\n                if (file.size > 10048576) {\n                    return;\n                }\n                SystemConfig.uploadImage(dataImage).then(r => {\n                    setPaymentRef(r)\n\n                })\n            }\n        })\n    }\n    function handleRemoveImage() {\n        setPaymentRef(null)\n    }\n\n    return(\n        <div>\n            <Modal\n                isOpen={props?.isOpenModal}\n                className={`modal-dialog-centered `}\n            >\n                <ModalHeader\n                    toggle={() => {\n                        props.handleIsOpenModal(false)\n                        setPaymentRef(undefined)\n                        setPaymentNote(\"\")\n                    }}\n                >\n                    Hình ảnh Chuyển khoản\n                </ModalHeader>\n                <ModalBody>\n                    {/*<FormGroup>*/}\n                    {/*    <Label>Mã giao dịch</Label>*/}\n                    {/*    <Input*/}\n                    {/*        value={paymentRef}*/}\n                    {/*        onChange={e=>setPaymentRef(e.target.value)}*/}\n                    {/*        placeholder={\"Vui lòng nhập mã giao dịch\"}*/}\n                    {/*    />*/}\n                    {/*</FormGroup>*/}\n                    <Row className={'container-input'} style={{border:\"none\"}}>\n                        <Col sm={12}>\n                            <FormGroup>\n                                <Label>\n                                    Ghi chú\n                                </Label>\n                                <Input\n                                    type={\"textarea\"}\n                                    rows={4}\n                                    value={paymentNote}\n                                    onChange={(e)=>setPaymentNote(e.target.value)}\n                                />\n                            </FormGroup>\n                        </Col>\n                        {\n                            props?.typeHistory===\"PaymentWithdrawTransaction\" && props?.typeApprove===\"approve\"&&\n                            <Col sm={12}>\n                                <FormGroup>\n                                    <Label>Hình ảnh</Label>\n                                    {\n                                        paymentRef &&\n                                        <div className={'container-input-file'}>\n                                            <Trash2 className={'icon-remove'} onClick={() => handleRemoveImage('1')}/>\n                                            <img src={paymentRef} alt=\"\" width={'100%'} height={'100%'} style={{objectFit: 'cover'}}/>\n                                        </div>\n                                    }\n                                    {\n                                        !paymentRef &&\n                                        <div className={'container-input-file'}>\n                                            <div className={'text-center'}>\n                                                <div>\n                                                    <Plus/>\n                                                </div>\n                                                Tải ảnh lên\n                                            </div>\n                                            <Input\n                                                type=\"file\"\n                                                id=\"exampleCustomFileBrowser\"\n                                                name=\"customFile\"\n                                                accept=\".jpg, .png, .jpeg\"\n                                                className={'input-file'}\n                                                onChange={(e) => handleChangeImage(e)}\n                                            />\n                                        </div>\n                                    }\n                                </FormGroup>\n                            </Col>\n                        }\n                    </Row>\n\n                    <br/>\n                    <Button\n                        onClick={()=>{\n                            props.handleApproveRefuseRequest(props.userIdModal,props?.typeApprove,paymentNote, paymentRef,props?.typeHistory===\"PaymentWithdrawTransaction\"? true :false)\n                            setPaymentRef(undefined)\n                            setPaymentNote(\"\")\n                        }\n                        }\n                        color={\"primary\"}\n                    >\n                        Xác nhận\n                    </Button>\n                </ModalBody>\n            </Modal>\n        </div>\n    )\n}\nexport default ModalInputId","import Request from './request'\nexport default class History {\n  static async listHistory(data = {}, api) {\n    return new Promise((resolve, reject) => {\n      Request.send({\n        method: 'POST',\n        path: api,\n        data: data\n      })\n        .then((result) => {\n          const { statusCode, error } = result\n          if (statusCode === 200) {\n            resolve(result)\n          } else {\n            // reject(new Error(error))\n            console.log(error)\n          }\n        })\n        .catch((error) => {\n          reject(error)\n        })\n    })\n  }\n  static async detailHistory(data = {}, api) {\n    return new Promise((resolve, reject) => {\n      Request.send({\n        method: 'POST',\n        path: api,\n        data: data\n      })\n        .then((result) => {\n          const { statusCode, error } = result\n          if (statusCode === 200) {\n            resolve(result)\n          } else {\n            reject(new Error(error))\n          }\n        })\n        .catch((error) => {\n          reject(error)\n        })\n    })\n  }\n  static async approveRefuseRequest(data = {}, api) {\n    return new Promise((resolve, reject) => {\n      Request.send({\n        method: 'POST',\n        path: api,\n        data: data\n      })\n        .then((result) => {\n          const { statusCode, error } = result\n          if (statusCode === 200) {\n            resolve(result)\n          } else {\n            reject(new Error(error))\n          }\n        })\n        .catch((error) => {\n          reject(error)\n        })\n    })\n  }\n}\n"],"sourceRoot":""}