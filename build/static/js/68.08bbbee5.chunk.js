(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[68],{1177:function(e,a,t){},1352:function(e,a,t){"use strict";t.r(a);var n=t(29),l=t(1),c=t(15),i=t(0),s=(t(120),t(114)),r=t(706),o=t(689),d=t(685),u=t(465),j=t.n(u),b=(t(1177),t(456)),m=(t(450),t(448)),h=t(449),O=t.n(h),p=t(676),g=t(455),f=t.n(g),x=t(468),v=t(118),w=t(505),U=t.n(w),B=t(800),C=t.n(B),y=t(1200),N=t(459),S=t(487),k=t(6),P=function(e){var a=e.setPreviewArr,t=e.previewArr,n=e.isDelete,l=e.disabled,c=e.isLarge,i=new U.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});i.use(C.a),i.on("thumbnail:generated",(function(e,t){Object(x.e)(t,(function(e){a([{booksImageUrl:e,isChange:!0}])}))}));return Object(k.jsx)(N.a,{children:Object(k.jsxs)(S.a,{children:[l?null:Object(k.jsx)(y.a,{disabled:l,uppy:i}),t.length?t.map((function(e,l){return Object(k.jsxs)("div",{className:"rounded mt-2 mr-1",style:{position:"relative",float:"left"},children:[Object(k.jsx)("a",{href:e.booksImageUrl,target:"_blank",children:Object(k.jsx)("img",{style:c?{width:"100%",height:"170px",borderRadius:"50%"}:{width:"100px",height:"100px",borderRadius:"50%"},src:e.booksImageUrl,alt:"avatar"},l)}),n?Object(k.jsx)("div",{className:"deleteImage",onClick:function(){var e=t.filter((function(e,a){return a!==l}));a(Object(v.a)(e))},children:"X"}):null]})})):null]})})},T=t(1270),A=t(1348),I=t(1271),D=t(1273),R=t(475),L=t(458),q=t(1277),z=t(1278),W=t(445),F=t(1349),M=t(1274),G=t(1275),E=t(1276),J=t(1268),X=(t(597),t(598),t(599),{filter:{},skip:0,limit:20,order:{key:"createdAt",value:"desc"}}),H=function(){var e=[{name:"ID",selector:"walletBalanceUnitId",sortable:!0,maxWidth:"60px"},{name:"T\xean",selector:"walletBalanceUnitDisplayName",sortable:!0,minWidth:"200px",cell:function(e){var a=e.walletBalanceUnitDisplayName,t=e.walletBalanceUnitAvatar;return Object(k.jsxs)("div",{children:[t?Object(k.jsx)("img",{height:15,width:15,style:{marginRight:"10px",borderRadius:"100px"},src:t,alt:"test"}):null,"    ",a]})}},{name:"M\xe3",selector:"walletBalanceUnitCode",sortable:!0,minWidth:"200px"},{name:"Gi\xe1 ng\u01b0\u1eddi d\xf9ng b\xe1n\t",selector:"userSellPrice",sortable:!0,maxWidth:"200px",cell:function(e){var a=e.userSellPrice;return Object(k.jsx)("div",{children:Object(x.c)(a)})}},{name:"T\xe1c v\u1ee5",selector:"action",cell:function(e){var a=e.walletBalanceUnitId,t=e.convertPrice,n=e.originalPrice,l=e.userSellPrice,c=e.walletBalanceUnitCode,i=e.walletBalanceUnitDisplayName,j=e.walletBalanceUnitAvatar;return Object(k.jsxs)(T.a,{children:[Object(k.jsx)(A.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(k.jsx)(r.a,{size:15})}),Object(k.jsxs)(I.a,{right:!0,children:[Object(k.jsxs)(D.a,{href:"/",onClick:function(e){e.preventDefault(),U(!0),we({walletBalanceUnitId:a,convertPrice:t,originalPrice:n,userSellPrice:l,walletBalanceUnitCode:c,walletBalanceUnitDisplayName:i,walletBalanceUnitAvatar:j})},children:[Object(k.jsx)(o.a,{className:"mr-50",size:15})," ",Object(k.jsx)("span",{className:"align-middle",children:"S\u1eeda"})]}),Object(k.jsxs)(D.a,{href:"/",onClick:function(e){var t,n;e.preventDefault(),t={id:a},m.a.send({method:"POST",path:"WalletBalanceUnit/deleteById",data:t,query:null}).then((function(e){if(e){var a=e.statusCode,t=e.message;200===a?(s.c.success(n||"Action delete successful!"),Ue(u)):s.c.warn(t||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))},children:[Object(k.jsx)(d.a,{className:"mr-50",size:15})," ",Object(k.jsx)("span",{className:"align-middle",children:"Xo\xe1"})]})]})]})}}],a=Object(i.useState)(X),t=Object(c.a)(a,2),u=t[0],h=t[1],g=Object(i.useState)(!1),v=Object(c.a)(g,2),w=v[0],U=v[1],B=Object(i.useState)(1),C=Object(c.a)(B,2),y=C[0],S=C[1],H=Object(i.useState)(20),V=Object(c.a)(H,2),_=V[0],K=(V[1],Object(i.useState)(20)),Q=Object(c.a)(K,2),Y=Q[0],Z=Q[1],$=Object(i.useState)([]),ee=Object(c.a)($,2),ae=ee[0],te=ee[1],ne=Object(i.useState)(!1),le=Object(c.a)(ne,2),ce=le[0],ie=le[1],se=Object(i.useState)(""),re=Object(c.a)(se,2),oe=re[0],de=re[1],ue=Object(i.useState)({value:"walletBalanceUnitCode",label:"M\xe3 Coin"}),je=Object(c.a)(ue,2),be=(je[0],je[1],Object(i.useState)(!1)),me=Object(c.a)(be,2),he=(me[0],me[1],Object(b.b)({defaultValues:{}})),Oe=he.register,pe=he.errors,ge=he.handleSubmit,fe=Object(i.useState)({}),xe=Object(c.a)(fe,2),ve=xe[0],we=xe[1];function Ue(e,a){var t=Object(l.a)({},e);a||ie(!0),Object.keys(t.filter).forEach((function(e){t.filter[e]&&""!==t.filter[e]||delete t.filter[e]}));var n=window.localStorage.getItem("accessToken");if(n){var c=n.replace(/"/g,"");m.a.send({method:"POST",path:"WalletBalanceUnit/find",data:t,query:null,headers:{Authorization:"Bearer "+c}}).then((function(e){if(e){var n=e.statusCode,l=e.data,c=e.message;h(t),200===n?(Z(l.total),te(l.data)):s.c.warn(c||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}else Z(1),te([]);a||ie(!1)}))}else window.localStorage.clear()}var Be=j.a.debounce((function(e){Ue(e,!0)}),2e3);Object(i.useEffect)((function(){Ue(u)}),[]);var Ce=function(e,a){we(Object(l.a)(Object(l.a)({},ve),{},Object(n.a)({},e,a)))};return Object(k.jsxs)(i.Fragment,{children:[Object(k.jsxs)(N.a,{children:[Object(k.jsxs)(R.a,{className:"mx-0 mt-1 mb-50",children:[Object(k.jsxs)(L.a,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"3",children:[Object(k.jsx)(q.a,{className:"mr-1",for:"search-input",children:"T\xecm"}),Object(k.jsx)(z.a,{className:"dataTable-filter",type:"text",bsSize:"lg",id:"search-input",value:oe,onChange:function(e){!function(e){var a=e.target.value;de(a);var t=Object(l.a)(Object(l.a)({},u),{},{searchText:a,skip:0});Be(t)}(e)}})]}),Object(k.jsx)(L.a,{sm:"2",children:Object(k.jsx)(W.a.Ripple,{color:"primary",size:"lg",onClick:function(){U(!0),we({})},children:"Th\xeam"})}),Object(k.jsx)(L.a,{sm:"7"})]}),Object(k.jsx)(f.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:e,sortIcon:Object(k.jsx)(p.a,{size:10}),paginationComponent:function(){var e=Number(Math.ceil(Y/_).toFixed(0));return Object(k.jsx)(O.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==y?y-1:0,onPageChange:function(e){return function(e){Ue(Object(l.a)(Object(l.a)({},u),{},{skip:e.selected*u.limit})),S(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:ae,progressPending:ce})]}),Object(k.jsxs)(F.a,{isOpen:w,toggle:function(){return U(!1)},className:"modal-dialog-centered ",children:[Object(k.jsxs)(M.a,{toggle:function(){return U(!1)},children:[ve.walletBalanceUnitId?"S\u1eeda":"Th\xeam"," Coin"]}),Object(k.jsx)(G.a,{children:Object(k.jsxs)(E.a,{onSubmit:ge((function(e){var a,t,n=e;ve.walletBalanceUnitAvatar&&(n.walletBalanceUnitAvatar=ve.walletBalanceUnitAvatar),ve.walletBalanceUnitId?(a={id:ve.walletBalanceUnitId,data:n},m.a.send({method:"POST",path:"WalletBalanceUnit/updateById",data:a,query:null}).then((function(e){if(e){var a=e.statusCode,n=e.message;200===a?(s.c.success(t||"T\xe1c v\u1ee5 th\xe0nh c\xf4ng!"),Ue(u)):s.c.warn(n||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))):function(e){m.a.send({method:"POST",path:"WalletBalanceUnit/insert",data:e,query:null}).then((function(e){if(e){var a=e.statusCode,t=e.message;200===a?(s.c.success("Action successful!"),Ue(u)):s.c.warn(t||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}(n),U(!1)})),children:[Object(k.jsxs)(J.a,{children:[Object(k.jsx)(q.a,{for:"walletBalanceUnitDisplayName",children:"T\xean coin"}),Object(k.jsx)(z.a,{id:"walletBalanceUnitDisplayName",name:"walletBalanceUnitDisplayName",innerRef:Oe({required:!0}),invalid:pe.walletBalanceUnitDisplayName&&!0,placeholder:"T\xean coin",value:ve.walletBalanceUnitDisplayName||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;Ce(t,n)}})]}),Object(k.jsxs)(J.a,{children:[Object(k.jsx)(q.a,{for:"walletBalanceUnitCode",children:"M\xe3 coin"}),Object(k.jsx)(z.a,{id:"walletBalanceUnitCode",name:"walletBalanceUnitCode",innerRef:Oe({required:!0}),invalid:pe.walletBalanceUnitCode&&!0,placeholder:"BTC",value:ve.walletBalanceUnitCode||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;Ce(t,n)}})]}),Object(k.jsxs)(J.a,{children:[Object(k.jsx)(q.a,{for:"userSellPrice",children:"Gi\xe1 ng\u01b0\u1eddi d\xf9ng b\xe1n "}),Object(k.jsx)(z.a,{name:"userSellPrice",id:"userSellPrice",innerRef:Oe({required:!0}),invalid:pe.userSellPrice&&!0,value:ve.userSellPrice||"",placeholder:"Gi\xe1 ng\u01b0\u1eddi d\xf9ng b\xe1n\t",onChange:function(e){var a=e.target,t=a.name,n=a.value;Ce(t,n)}})]}),Object(k.jsxs)(J.a,{children:[Object(k.jsx)(q.a,{for:"avatar",children:"\u1ea2nh "}),Object(k.jsx)(P,{setPreviewArr:function(e){var a;a={imageData:e[0].booksImageUrl.replace("data:image/png;base64",""),imageFormat:"png"},m.a.send({method:"POST",path:"Upload/uploadMediaFile",data:a,query:null}).then((function(e){if(e){var a=e.statusCode,t=e.message,n=e.data;200===a?setTimeout((function(){s.c.success("T\xe1c v\u1ee5 th\xe0nh c\xf4ng!"),we(Object(l.a)(Object(l.a)({},ve),{},{walletBalanceUnitAvatar:n}))}),2e3):s.c.warn(t||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))},previewArr:ve.walletBalanceUnitAvatar&&""!==ve.walletBalanceUnitAvatar?[{booksImageUrl:ve.walletBalanceUnitAvatar}]:[]})]}),Object(k.jsx)(J.a,{className:"d-flex mb-0",children:Object(k.jsx)(W.a.Ripple,{className:"mr-1",color:"primary",type:"submit",children:"L\u01b0u"})})]})})]})]})};a.default=Object(i.memo)(H)},450:function(e,a,t){},599:function(e,a,t){}}]);
//# sourceMappingURL=68.08bbbee5.chunk.js.map