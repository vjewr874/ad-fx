{"version":3,"sources":["services/lotteryList.js","assets/images/ic-close.svg","assets/images/img-pictures.png","pages/management-lottery/components/render-image/render-image.js","constants/province1.js","pages/management-lottery/components/lottery-info/LotteryInfo.js","constants/lotteryType.js"],"names":["LotteryList","data","Promise","resolve","reject","Request","send","method","path","then","result","statusCode","error","Error","catch","params","message","RenderImage","props","id","disabled","Media","className","body","FormGroup","style","marginTop","marginRight","CustomInput","label","type","name","onChange","onChangeImage","multiple","accept","size","onChangePdf","productImage","length","Row","map","image","index","Col","xs","src","icClose","alt","onClick","handleRemoveImage","backgroundImage","productImageUrl","noImage","backgroundSize","backgroundPosition","PRODUCT_CHANNEL","lotteryType","value","LotteryInfo","useState","productTitle","setProductTitle","quantity","setQuantity","productType","setProductType","productChannel","setProductChannel","setProductImage","expireDate","setExpireDate","date","Date","getHours","moment","getTime","format","getMinutes","productChannels","setProductChannels","history","useHistory","undefined","imageUpdate","setImageUpdate","stockQuantity","setStockQuantity","pricePerLottery","setPricePerLottery","useEffect","lotteryInfo","productImages","handleImageToUpdate","parseInt","price","infoPrice","ticketPrice","arr","forEach","item","push","createLottery","dataCreate","createProduct","res","toast","success","warn","updateLottery","dataUpdate","updateProduct","handleChangeInput","e","target","readFileData","file","reader","FileReader","onload","onerror","err","readAsDataURL","rotateBase64Image","base64data","canvas","document","createElement","ctx","getContext","Image","setAttribute","height","width","rotate","Math","PI","drawImage","toDataURL","a","files","i","replace","convertFileToBase64","dataUrl","newData","split","imageData","imageFormat","uploadImage","r","getDay","getProductChannels","pdfjsLib","promise","pdf","numPages","getPage","page","viewport","getViewport","scale","context","render","canvasContext","rotatedImg","remove","Card","title","Label","Input","placeholder","isClearable","classNamePrefix","options","find","channel","handleChangeChannel","isDisabled","defaultValue","minDate","_","handleChangeDate","lottery","handleChangeType","splice","Button","color","go","handleSubmit"],"mappings":"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","file":"static/js/9.6124b0f9.chunk.js","sourcesContent":["import Request from \"./request\";\nexport default class LotteryList {\n    static async createProduct(data = {}) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/Product/insert\",\n                data: data,\n            }).then((result) => {\n                const { statusCode, error } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    reject(new Error(error));\n                }\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n    static async updateProduct(data = {}) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/Product/updateById\",\n                data: data,\n            }).then((result) => {\n                const { statusCode, error } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    reject(new Error(error));\n                }\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n    static async detailProduct(data = {}) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/Product/findById\",\n                data: data,\n            }).then((result) => {\n                const { statusCode, error } = result\n                if (statusCode === 200) {\n                    resolve(result)\n                } else {\n                    reject(new Error(error));\n                }\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n    static async uploadImage(params) {\n        return new Promise((resolve, reject) => {\n            Request.send({\n                method: \"POST\",\n                path: \"/Upload/uploadMediaFile\",\n                data: params\n            }).then(result => {\n                const { statusCode, data, message } = result\n                if (statusCode === 200) {\n                    resolve(data)\n                } else {\n                    throw new Error(message);\n                }\n            }).catch(error => {\n                reject(error);\n            })\n        })\n    }\n}\n","export default __webpack_public_path__ + \"static/media/ic-close.d4172e89.svg\";","export default __webpack_public_path__ + \"static/media/img-pictures.4ca53b4a.png\";","import React from \"react\"\nimport './styles/render-image.scss'\nimport {Col, CustomInput, FormGroup, Media, Row} from \"reactstrap\"\n\nimport icClose from '../../../../assets/images/ic-close.svg'\nimport noImage from '../../../../assets/images/img-pictures.png'\nimport {Plus} from \"react-feather\"\n\nconst RenderImage = (props) => {\n    return (\n        <div id={'render-image'}>\n            {\n                !props?.disabled &&\n                <Media className=\"flex-column flex-md-row\">\n                    <Media body>\n                        <div className=\"d-inline-block input-add-image d-flex justify-content-between align-items-end\">\n                           <div className={\"d-flex\"}>\n                               <FormGroup className=\"mb-0 position-relative\" style={{marginTop: 50,marginRight:20}}>\n                                   <CustomInput\n                                       label={'Tải hình'}\n                                       type=\"file\"\n                                       id=\"exampleCustomFileBrowser\"\n                                       name=\"customFile\"\n                                       onChange={props.onChangeImage}\n                                       multiple={'multiple'}\n                                       accept=\".jpg, .png, .jpeg\"\n                                   />\n                                   <p className={'content-input'}>\n                                       <Plus size={17} style={{marginTop:\"-2px\",marginRight:\"10px\"}}/>\n                                       Tải hình\n                                   </p>\n                               </FormGroup>\n                               <FormGroup className=\"mb-0 position-relative\" style={{marginTop: 50}}>\n                                   <CustomInput\n                                       label={'Tải hình'}\n                                       type=\"file\"\n                                       id=\"exampleCustomFileBrowser\"\n                                       name=\"customFile\"\n                                       onChange={props.onChangePdf}\n                                       multiple={'multiple'}\n                                       accept=\"application/pdf\"\n                                   />\n                                   <p className={'content-input'}>\n                                       <Plus size={17} style={{marginTop:\"-2px\",marginRight:\"10px\"}}/>\n                                       Tải PDF\n                                   </p>\n                               </FormGroup>\n                           </div>\n                            <p>Số lượng: {props?.productImage?.length}</p>\n                        </div>\n                    </Media>\n                </Media>\n            }\n            <div className={'container-image'}>\n                <Row className={props.productImage.length === 0 ? 'justify-content-center' : ''}>\n                    {\n                        props.productImage.length > 0 &&\n                        props.productImage.map((image, index) => {\n                            return (\n                                <Col xs={3} key={index}>\n                                    <div className={'image__lottery'}>\n                                        {\n                                            !props?.disabled &&\n                                            <img className={'image-close'} src={icClose} alt=\"\" onClick={() => props?.handleRemoveImage(index)}/>\n                                        }\n                                        <div className={'image'} style={{backgroundImage: `url('${image?.productImageUrl || image}')`}}/>\n                                    </div>\n                                </Col>\n                            )\n                        })\n                    }\n                    {\n                        props.productImage.length === 0 &&\n                        <Col xs={3}>\n                            <div className={'image__lottery'}>\n                                <div className={'image'} style={{backgroundImage: `url('${noImage}')`, backgroundSize: 'contain', backgroundPosition: 'center'}}/>\n                            </div>\n                        </Col>\n                    }\n                </Row>\n            </div>\n        </div>\n    )\n}\nexport default RenderImage","export const PRODUCT_CHANNEL = {\n    TPHCM: \"TPHCM\",\n    DONG_THAP:\"DONG_THAP\",\n    CA_MAU:\"CA_MAU\",\n    BEN_TRE:\"BEN_TRE\",\n    VUNG_TAU:\"VUNG_TAU\",\n    BAC_LIEU:\"BAC_LIEU\",\n    DONG_NAI:\"DONG_NAI\",\n    CAN_THO:\"CAN_THO\",\n    SOC_TRANG:\"SOC_TRANG\",\n    TAY_NINH:\"TAY_NINH\",\n    AN_GIANG:\"AN_GIANG\",\n    BINH_THUAN:\"BINH_THUAN\",\n    VINH_LONG:\"VINH_LONG\",\n    BINH_DUONG:\"BINH_DUONG\",\n    TRA_VINH:\"TRA_VINH\",\n    LONG_AN:\"LONG_AN\",\n    HAU_GIANG:\"HAU_GIANG\",\n    BINH_PHUOC:\"BINH_PHUOC\",\n    TIEN_GIANG:\"TIEN_GIANG\",\n    KIEN_GIANG:\"KIEN_GIANG\",\n    DA_LAT:\"DA_LAT\"\n}","import React, {useEffect, useState} from \"react\"\nimport {Button, Card, Col, FormGroup, Input, Label, Row} from \"reactstrap\"\nimport Flatpickr from \"react-flatpickr\"\nimport \"flatpickr/dist/themes/material_blue.css\"\nimport Select from \"react-select\"\nimport RenderImage from \"../render-image/render-image\"\nimport {PRODUCT_CHANNEL} from \"../../../../constants/province1\"\nimport {LOTTERY_TYPE} from \"../../../../constants/lotteryType\"\nimport {toast} from \"react-toastify\"\nimport LotteryList from \"../../../../services/lotteryList\"\nimport {useHistory} from \"react-router-dom\"\nimport \"./style/lotteryInfo.scss\"\nimport {convertFileToBase64} from \"../../../../helper/common\"\nimport moment from \"moment/moment\"\nimport * as pdfjsLib from \"pdfjs-dist/legacy/build/pdf\"\nimport PDFJSWorker from 'pdfjs-dist/legacy/build/pdf.worker.entry'\nconst lotteryType = LOTTERY_TYPE\n\n\nconst LotteryInfo = (props) => {\n    const [productTitle, setProductTitle] = useState(null)\n    const [quantity, setQuantity] = useState(1)\n    const [productType, setProductType] = useState(\"SINGLE\")\n    const [productChannel, setProductChannel] = useState(null)\n    const [productImage, setProductImage] = useState([])\n    const [expireDate, setExpireDate] = useState(\"\")\n    const date = (new Date()).getHours() > 16 ? moment(new Date((new Date()).getTime() + 86400000)).format('YYYY-MM-DD 07:00:00.000') : (new Date()).getHours() < 16 ? moment(new Date()).format('YYYY-MM-DD 07:00:00.000') : (new Date()).getMinutes() > 15 ?  moment(new Date((new Date()).getTime() + 86400000)).format('YYYY-MM-DD 07:00:00.000') : moment(new Date()).format('YYYY-MM-DD 07:00:00.000')\n    const [productChannels, setProductChannels] = useState([])\n    const history = useHistory()\n    const [imageUpdate,setImageUpdate]=useState(undefined)\n    const [stockQuantity,setStockQuantity]=useState(undefined)\n    const [pricePerLottery,setPricePerLottery]=useState(undefined)\n    useEffect(() => {\n        setProductTitle(props?.lotteryInfo?.productTitle)\n        setQuantity(props?.lotteryInfo?.quantity || 1)\n        setProductType(props?.lotteryInfo?.productType || \"SINGLE\")\n        setProductChannel(props?.lotteryInfo?.productChannel)\n        setProductImage(props?.lotteryInfo?.productImages || [])\n        setImageUpdate(handleImageToUpdate(props?.lotteryInfo?.productImages))\n        setExpireDate(date)\n        setStockQuantity(props?.lotteryInfo?.stockQuantity ||\"0\")\n        setPricePerLottery(parseInt(props?.lotteryInfo?.price) / parseInt(props?.lotteryInfo?.quantity))\n    }, [props?.lotteryInfo])\n\n    useEffect(()=>{\n        setPricePerLottery(props?.infoPrice?.ticketPrice)\n    },[props?.infoPrice?.ticketPrice])\n    const handleImageToUpdate=(data)=>{\n        const arr=[]\n        if (data?.length > 0) {\n            data?.forEach(item=>{\n                arr.push(item.productImageUrl)\n            })\n        }\n        return arr\n    }\n\n    function createLottery (dataCreate) {\n        LotteryList.createProduct(dataCreate).then(res => {\n            if (res) {\n                const { statusCode, message } = res\n                if (statusCode === 200) {\n                    toast.success('Tạo mới thành công')\n                    history.push('/lottery/list')\n                } else {\n                    toast.warn(message || 'Đã có lỗi xảy ra!')\n                }\n            } else {}\n        })\n    }\n    const updateLottery = (dataUpdate) => {\n        LotteryList.updateProduct(dataUpdate).then(res => {\n            if (res) {\n                const { statusCode, message } = res\n                if (statusCode === 200) {\n                    toast.success('Cập nhật vé sô thành công')\n                    history.push(`/lottery/detail/${props.id}`)\n                } else {\n                    toast.warn(message || 'Đã có lỗi xảy ra!')\n                }\n            } else {}\n        })\n    }\n\n    const handleChangeChannel = (value) => {\n        setProductChannel(value?.value)\n    }\n    const handleChangeType = (value) => {\n        setProductType(value?.value)\n\n        value.value===\"SINGLE\"? setQuantity(1) : setQuantity(110)\n    }\n    const handleChangeInput = (e, name) => {\n        switch (name) {\n            case 'productTitle' :\n                setProductTitle(e?.target?.value)\n                break\n            case 'quantity' :\n                setQuantity(e?.target?.value)\n                break\n            case 'stockQuantity' :\n                setStockQuantity(e?.target?.value)\n                break\n            case 'pricePerLottery' :\n                setPricePerLottery(e?.target?.value)\n                break\n            default:\n                break\n        }\n    }\n    const handleChangeDate = (_, date) => {\n        setProductChannel(undefined)\n        setExpireDate(date)\n    }\n    const handleSubmit = () => {\n        if (!productTitle) {\n            toast.warn('Vui lòng nhập bộ số')\n            return\n        }\n        if (!quantity) {\n            toast.warn('Vui lòng nhập số lượng vé/ cộc vé')\n            return\n        }\n        if (!productChannel) {\n            toast.warn('Vui lòng chọn tên đài')\n            return\n        }\n        if (!productType) {\n            toast.warn('Vui lòng chọn loại vé')\n            return\n        }\n        if (!expireDate) {\n            toast.warn('Vui lòng chọn ngày xổ')\n            return\n        }\n        if (!stockQuantity) {\n            toast.warn('Vui lòng Số lượng vé tồn kho')\n            return\n        }\n        if (!pricePerLottery) {\n            toast.warn('Giá tiền 1 vé')\n            return\n        }\n        if (!props?.id) {\n            const data = {\n                productTitle: productTitle,\n                quantity: parseInt(quantity),\n                productChannel: productChannel,\n                productType: productType,\n                // stockQuantity: props.id? imageUpdate?.length: productImage.length,\n                stockQuantity:stockQuantity,\n                // price: productType === 'SINGLE' ? props?.infoPrice?.ticketPrice : props?.infoPrice?.ticketPrice * parseInt(quantity),\n                price:pricePerLottery*parseInt(quantity),\n                expireDate: expireDate,\n                productImages: productImage || undefined\n            }\n            if(productType===\"SINGLE\"){\n                if(parseInt(stockQuantity)!==productImage.length){\n                    toast.warn(\"Số lượng ảnh và số lượng vé tồn không khớp\")\n                }\n                else{\n                    createLottery(data)\n                }\n            }\n            else{\n                if(parseInt(stockQuantity) !==productImage.length){\n                    toast.warn(\"Số lượng ảnh và số lượng vé tồn không khớp\")\n                }\n                else{\n                    createLottery(data)\n\n                }\n            }\n\n\n        } else {\n            const data = {\n                id: parseInt(props?.id),\n                data: {\n                    productTitle: productTitle,\n                    productChannel: productChannel,\n                    productType: productType,\n                    quantity: parseInt(quantity),\n                    // stockQuantity: props.id? imageUpdate?.length: productImage.length,\n                    stockQuantity:stockQuantity,\n                    // price: productType === 'SINGLE' ? props?.infoPrice?.ticketPrice : props?.infoPrice?.ticketPrice * parseInt(quantity),\n                    price:pricePerLottery*parseInt(quantity),\n                    expireDate: expireDate,\n                    productImages: imageUpdate || undefined\n                }\n            }\n            if(productType===\"SINGLE\"){\n                if(parseInt(stockQuantity)!==imageUpdate.length){\n                    toast.warn(\"Số lượng ảnh và số lượng vé không khớp\")\n                }\n                else{\n                    updateLottery(data)\n                }\n            }\n            else{\n                if((parseInt(stockQuantity)) !==imageUpdate.length){\n                    toast.warn(\"Số lượng ảnh và số lượng vé tồn không khớp)\")\n                }\n                else{\n                    updateLottery(data)\n                }\n            }\n\n        }\n    }\n    const readFileData = (file) => {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                resolve(e.target.result);\n            };\n            reader.onerror = (err) => {\n                reject(err);\n            };\n            reader.readAsDataURL(file);\n        });\n    };\n    const rotateBase64Image = (base64data) => {\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        const image = new Image();\n        image.src = base64data;\n        return new Promise(resolve => {\n            image.onload = () => {\n                canvas.setAttribute('width', image.height);\n                canvas.setAttribute('height', image.width);\n                ctx.rotate(270 * Math.PI / 180);\n                ctx.drawImage(image, image.width * (-1), 0);\n                resolve(canvas.toDataURL())\n            };\n        })\n    }\n    const onChangeImage = async (e) => {\n        const files = e.target.files\n        if (files.length !== 0) {\n            for (let i = 0; i < files?.length; i++) {\n                let type=files[i].type.replace(\"image/\", \"\")\n                if(type === 'jpg'|| type==='png' ||  type==='jpeg')\n                {\n                    convertFileToBase64(files[i]).then((dataUrl) => {\n                        const newData = dataUrl.replace(/,/gi, \"\").split(\"base64\")\n                        if (newData[1]) {\n                            const data = {\n                                imageData: newData[1],\n                                imageFormat: files[i].type.replace(\"image/\", \"\"),\n                            }\n                            if (files[i].size > 10048576) {\n                                return;\n                            }\n                            LotteryList.uploadImage(data).then(r => {\n                                if (r) {\n                                    productImage.push(r)\n                                    imageUpdate.push(r)\n                                    setProductImage([...productImage])\n                                    setImageUpdate([...imageUpdate])\n                                    if(!props?.id){\n                                        setStockQuantity(productImage?.length)\n                                    }\n                                }\n                            })\n                        }\n                    })\n\n                }\n                else {\n                    toast.warn(\"Có file không là hình ảnh\")\n                }\n            }\n\n        }\n\n    }\n\n    const handleRemoveImage = (index) => {\n        productImage.splice(index, 1)\n        setProductImage([...productImage])\n        imageUpdate.splice(index, 1)\n        setImageUpdate([...imageUpdate])\n        if(!props?.id){\n            setStockQuantity(productImage?.length)\n        }\n\n    }\n\n    useEffect(() => {\n        getProductChannels()\n    }, [expireDate])\n    function getProductChannels(){\n        switch ((new Date(expireDate ? expireDate : date).getDay())) {\n            case 0:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'TIỀN GIANG',\n                        value:  PRODUCT_CHANNEL.TIEN_GIANG\n                    },\n                    {\n                        label: 'KIÊN GIANG',\n                        value:  PRODUCT_CHANNEL.KIEN_GIANG\n                    },\n                    {\n                        label: 'ĐÀ LẠT',\n                        value:  PRODUCT_CHANNEL.DA_LAT\n                    }\n                ])\n                break\n            case 1:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'TP.HCM',\n                        value:  PRODUCT_CHANNEL.TPHCM\n                    },\n                    {\n                        label: 'ĐỒNG THÁP',\n                        value:  PRODUCT_CHANNEL.DONG_THAP\n                    },\n                    {\n                        label: 'CÀ MAU',\n                        value:  PRODUCT_CHANNEL.CA_MAU\n                    }\n                ])\n                break\n            case 2:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'BẾN TRE',\n                        value:  PRODUCT_CHANNEL.BEN_TRE\n                    },\n                    {\n                        label: 'VŨNG TÀU',\n                        value:  PRODUCT_CHANNEL.VUNG_TAU\n                    },\n                    {label: 'BẠC LIÊU',\n                        value:  PRODUCT_CHANNEL.BAC_LIEU\n                    }\n                ])\n                break\n            case 3:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'ĐỒNG NAI',\n                        value:  PRODUCT_CHANNEL.DONG_NAI\n                    },\n                    {\n                        label: 'CẦN THƠ',\n                        value:  PRODUCT_CHANNEL.CAN_THO\n                    },\n                    {\n                        label: 'SÓC TRĂNG',\n                        value:  PRODUCT_CHANNEL.SOC_TRANG\n                    }\n                ])\n                break\n            case 4:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'TÂY NINH',\n                        value:  PRODUCT_CHANNEL.TAY_NINH\n                    },\n                    {\n                        label: 'AN GIANG',\n                        value:  PRODUCT_CHANNEL.AN_GIANG\n                    },\n                    {\n                        label: 'BÌNH THUẬN',\n                        value:  PRODUCT_CHANNEL.BINH_THUAN\n                    }\n                ])\n                break\n            case 5:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'VĨNH LONG',\n                        value:  PRODUCT_CHANNEL.VINH_LONG\n                    },\n                    {\n                        label: 'BÌNH DƯƠNG',\n                        value:  PRODUCT_CHANNEL.BINH_DUONG\n                    },\n                    {\n                        label: 'TRÀ VINH',\n                        value:  PRODUCT_CHANNEL.TRA_VINH\n                    }\n                ])\n                break\n            case 6:\n                setProductChannels([\n                    {\n                        label: \"Chọn tên đài\",\n                        value: undefined\n                    },\n                    {\n                        label: 'TP.HCM',\n                        value:  PRODUCT_CHANNEL.TPHCM\n                    },\n                    {\n                        label: 'LONG AN',\n                        value:  PRODUCT_CHANNEL.LONG_AN\n                    },\n                    {\n                        label: 'HẬU GIANG',\n                        value:  PRODUCT_CHANNEL.HAU_GIANG\n                    },\n                    {\n                        label: 'BÌNH PHƯỚC',\n                        value:  PRODUCT_CHANNEL.BINH_PHUOC\n                    }\n                ])\n                break\n            default:\n                break\n        }\n    }\n\n    const onChangePdf=async (e) => {\n        const files = e.target.files\n        if (files.length !== 0) {\n            for (let i = 0; i < files?.length; i++) {\n                if (files[i].type === 'application/pdf') {\n                    const data = await readFileData(files[i]);\n                    const pdf = await pdfjsLib.getDocument(data).promise\n                    const canvas = document.createElement(\"canvas\");\n                    for (let i = 0; i < pdf.numPages; i++) {\n                        const page = await pdf.getPage(i + 1);\n                        const viewport = page.getViewport({scale: 1});\n                        const context = canvas.getContext(\"2d\");\n                        canvas.height = viewport.height;\n                        canvas.width = viewport.width;\n                        await page.render({canvasContext: context, viewport: viewport}).promise;\n                        let newData\n\n                        if (canvas.width < canvas.height) {\n                            const rotatedImg = await rotateBase64Image(canvas.toDataURL())\n                            newData = rotatedImg.replace(/,/gi, \"\").split(\"base64\")\n                        } else {\n                            newData = canvas.toDataURL().replace(/,/gi, \"\").split(\"base64\")\n                        }\n                        if (newData[1]) {\n                            const params = {\n                                imageData: newData[1],\n                                imageFormat: \"png\"\n                            }\n                            if (data.size > 10048576) {\n                                toast.warn(\"Dung lượng file quá lớn\")\n                                return;\n                            }\n\n                            LotteryList.uploadImage(params).then(r => {\n                                if (r) {\n                                    productImage.push(r)\n                                    imageUpdate.push(r)\n                                    setProductImage([...productImage])\n                                    setImageUpdate([...imageUpdate])\n                                    if(!props?.id){\n                                        setStockQuantity(productImage?.length)\n                                    }\n                                }\n                            })\n                        }\n                    }\n                    canvas.remove();\n                }\n                else {\n                    toast.warn(\"Có file không là pdf\")\n                }\n            }\n        }\n\n    }\n\n    return (\n        <div className={\"lottery-info-custom\"}>\n            <Card className={'p-2'}>\n                <h3 className={\"detail-title mb-2\"}>{props?.title}</h3>\n                <Row className={\"detail-input\"}>\n                    <Col xs={4}>\n                        <FormGroup>\n                            <Label>\n                                Bộ số\n                            </Label>\n                            <Input\n                                className={\"custom-input-pj\"}\n                                type={'text'}\n                                placeholder={'Nhập bộ số'}\n                                onChange={(e) => handleChangeInput(e, 'productTitle')}\n                                value={productTitle || ''}\n                                disabled={props?.disabled}\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col xs={4}>\n                        <FormGroup>\n                            <Label>\n                                Tên đài\n                            </Label>\n                            <Select\n                                isClearable={false}\n                                className='react-select'\n                                classNamePrefix='select'\n                                options={productChannels}\n                                placeholder={'Chọn tên đài'}\n                                value={productChannels?.find(channel => channel.value === productChannel)}\n                                onChange={(value) => handleChangeChannel(value)}\n                                isDisabled={props?.disabled}\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col xs={4}>\n                        <FormGroup>\n                            <Label>\n                                Ngày Xổ\n                            </Label>\n                            <Flatpickr\n                                defaultValue={date}\n                                options={{minDate: date}}\n                                id='startDate'\n                                className={`form-control ${!props?.disabled ? 'form-control__date' : ''} custom-flatpickr-pj`}\n                                onChange={(_, date) => handleChangeDate(_, date)}\n                                disabled={props?.disabled}\n                            />\n                        </FormGroup>\n                    </Col>\n                    <Col xs={4}>\n                        <FormGroup>\n                            <Label>\n                                Loại vé\n                            </Label>\n                            <Select\n                                isClearable={false}\n                                className='react-select'\n                                classNamePrefix='select'\n                                options={lotteryType}\n                                placeholder={'Chọn loại vé'}\n                                value={lotteryType?.find(lottery => lottery.value === productType)}\n                                onChange={(value) => handleChangeType(value)}\n                                isDisabled={props?.disabled}\n                            />\n                        </FormGroup>\n                    </Col>\n                    {\n                        productType===\"BATCH\" &&\n                        <Col xs={4}>\n                            <FormGroup>\n                                <Label>\n                                    Số lượng vé / cộc vé\n                                </Label>\n                                <Input\n                                    className={\"custom-input-pj\"}\n                                    type={'number'}\n                                    onChange={(e) => handleChangeInput(e, 'quantity')}\n                                    value={quantity || ''}\n                                    disabled={props?.disabled}\n                                />\n                            </FormGroup>\n                        </Col>\n                    }\n                    {\n                        // props.id &&\n                        <Col xs={4}>\n                            <FormGroup>\n                                <Label>\n                                    Số lượng vé tồn kho\n                                </Label>\n                                <Input\n                                    className={\"custom-input-pj\"}\n                                    type={'number'}\n                                    onChange={(e) => handleChangeInput(e, 'stockQuantity')}\n                                    value={stockQuantity || ''}\n                                    disabled={props?.id}\n                                />\n                            </FormGroup>\n                        </Col>\n                    }\n                   <Col xs={4}>\n                       <FormGroup>\n                           <Label>\n                               Giá tiền 1 vé\n                           </Label>\n                           <Input\n                               className={\"custom-input-pj\"}\n                               type={'number'}\n                               placeholder={'Giá tiền 1 vé'}\n                               onChange={(e) => handleChangeInput(e, 'pricePerLottery')}\n                               value={pricePerLottery || \"\"}\n                               disabled={props?.disabled}\n                           />\n                       </FormGroup>\n                   </Col>\n                </Row>\n                <RenderImage onChangeImage={onChangeImage} onChangePdf={onChangePdf} productImage={productImage} handleRemoveImage={handleRemoveImage} disabled={props?.disabled}/>\n            </Card>\n            <div className={'d-flex justify-content-end align-items-center'}>\n                <Button color={'primary'} className={'mr-2'}\n                        // onClick={() => history.push('/lottery/list')}\n                        onClick={() => history.go(-1)}\n                >\n                    Trở lại\n                </Button>\n                {\n                    !props?.disabled &&\n                    <Button  color={'primary'} type={'button'} onClick={() => handleSubmit()}>\n                        {props?.id ? 'Cập nhật'  :'Lưu'}\n                    </Button>\n                }\n            </div>\n        </div>\n    )\n}\nexport default LotteryInfo","export const LOTTERY_TYPE = [\n    {\n        label: 'Vé thường',\n        value: \"SINGLE\",\n    },\n    {\n        label: 'Vé cặp nguyên',\n        value: \"BATCH\",\n    },\n]"],"sourceRoot":""}