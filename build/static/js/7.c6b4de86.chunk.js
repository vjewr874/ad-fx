(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[7],{1262:function(e,a,t){},458:function(e,a,t){"use strict";var n=t(14),r=t(20),i=t(0),o=t.n(i),s=t(5),c=t.n(s),d=t(55),l=t.n(d),u=t(77),v=c.a.oneOfType([c.a.number,c.a.string]),h=c.a.oneOfType([c.a.bool,c.a.number,c.a.string,c.a.shape({size:c.a.oneOfType([c.a.bool,c.a.number,c.a.string]),order:v,offset:v})]),b={tag:u.q,xs:h,sm:h,md:h,lg:h,xl:h,className:c.a.string,cssModule:c.a.object,widths:c.a.array},f={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},j=function(e){var a=e.className,t=e.cssModule,i=e.widths,s=e.tag,c=Object(r.a)(e,["className","cssModule","widths","tag"]),d=[];i.forEach((function(a,n){var r=e[a];if(delete c[a],r||""===r){var i=!n;if(Object(u.k)(r)){var o,s=i?"-":"-"+a+"-",v=m(i,a,r.size);d.push(Object(u.m)(l()(((o={})[v]=r.size||""===r.size,o["order"+s+r.order]=r.order||0===r.order,o["offset"+s+r.offset]=r.offset||0===r.offset,o)),t))}else{var h=m(i,a,r);d.push(h)}}})),d.length||d.push("col");var v=Object(u.m)(l()(a,d),t);return o.a.createElement(s,Object(n.a)({},c,{className:v}))};j.propTypes=b,j.defaultProps=f,a.a=j},459:function(e,a,t){"use strict";var n=t(14),r=t(20),i=t(0),o=t.n(i),s=t(5),c=t.n(s),d=t(55),l=t.n(d),u=t(77),v={tag:u.q,inverse:c.a.bool,color:c.a.string,body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},h=function(e){var a=e.className,t=e.cssModule,i=e.color,s=e.body,c=e.inverse,d=e.outline,v=e.tag,h=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=Object(u.m)(l()(a,"card",!!c&&"text-white",!!s&&"card-body",!!i&&(d?"border":"bg")+"-"+i),t);return o.a.createElement(v,Object(n.a)({},b,{className:f,ref:h}))};h.propTypes=v,h.defaultProps={tag:"div"},a.a=h},466:function(e,a,t){"use strict";t.d(a,"b",(function(){return i})),t.d(a,"a",(function(){return o}));var n=t(451),r=t.n(n),i=function(e){return r()(null===e||void 0===e?void 0:e.toString()).format("HH:mm   DD/MM/YYYY")},o=function(e){return r()(null===e||void 0===e?void 0:e.toString()).format("DD/MM/YYYY")}},471:function(e,a,t){"use strict";var n=t(491),r=(t(472),t(6));a.a=function(){return Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)(n.a,{color:"info",children:"Loading..."})})}},472:function(e,a,t){},480:function(e,a,t){"use strict";t.d(a,"a",(function(){return d}));var n=t(452),r=t.n(n),i=t(453),o=t(115),s=t(116),c=t(448),d=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"showSystemConfig",value:function(){var e=Object(i.a)(r.a.mark((function e(){var a,t=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.abrupt("return",new Promise((function(e,t){c.a.send({method:"POST",path:"/SystemConfigurations/find",data:a}).then((function(a){var n=a.statusCode,r=a.error;200===n?e(a):t(new Error(r))})).catch((function(e){t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSystemConfig",value:function(){var e=Object(i.a)(r.a.mark((function e(){var a,t=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.abrupt("return",new Promise((function(e,t){c.a.send({method:"POST",path:"/SystemConfigurations/updateConfigs",data:a}).then((function(a){var n=a.statusCode,r=a.error;200===n?e(a):t(new Error(r))})).catch((function(e){t(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadImage",value:function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){c.a.send({method:"POST",path:"/Upload/uploadMediaFile",data:a}).then((function(a){var t=a.statusCode,n=a.data,r=a.message;if(200!==t)throw new Error(r);e(n)})).catch((function(e){t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"changeIncreaseDecreasePoint",value:function(){var e=Object(i.a)(r.a.mark((function e(a,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){c.a.send({method:"POST",path:"/Wallet/".concat(t,"Balance"),data:a}).then((function(a){var t=a.statusCode,n=(a.data,a.message);if(200!==t)throw new Error(n);e(a)})).catch((function(e){n(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"updateDetailCustomer",value:function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){c.a.send({method:"POST",path:"/AppUsers/updateUserById",data:a}).then((function(a){var t=a.statusCode,n=(a.data,a.message);if(200!==t)throw new Error(n);e(a)})).catch((function(e){t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"updatePasswordCustomer",value:function(){var e=Object(i.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){c.a.send({method:"POST",path:"/AppUsers/adminChangePasswordUser",data:a}).then((function(a){var t=a.statusCode,n=(a.data,a.message);if(200!==t)throw new Error(n);e(a)})).catch((function(e){t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}]),e}()},491:function(e,a,t){"use strict";var n=t(14),r=t(20),i=t(0),o=t.n(i),s=t(5),c=t.n(s),d=t(55),l=t.n(d),u=t(77),v={tag:u.q,type:c.a.string,size:c.a.string,color:c.a.string,className:c.a.string,cssModule:c.a.object,children:c.a.string},h=function(e){var a=e.className,t=e.cssModule,i=e.type,s=e.size,c=e.color,d=e.children,v=e.tag,h=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(u.m)(l()(a,!!s&&"spinner-"+i+"-"+s,"spinner-"+i,!!c&&"text-"+c),t);return o.a.createElement(v,Object(n.a)({role:"status"},h,{className:b}),d&&o.a.createElement("span",{className:Object(u.m)("sr-only",t)},d))};h.propTypes=v,h.defaultProps={tag:"div",type:"border",children:"Loading..."},a.a=h},557:function(e,a,t){"use strict";var n=t(14),r=t(20),i=t(0),o=t.n(i),s=t(5),c=t.n(s),d=t(55),l=t.n(d),u=t(77),v={body:c.a.bool,bottom:c.a.bool,children:c.a.node,className:c.a.string,cssModule:c.a.object,heading:c.a.bool,left:c.a.bool,list:c.a.bool,middle:c.a.bool,object:c.a.bool,right:c.a.bool,tag:u.q,top:c.a.bool},h=function(e){var a,t=e.body,i=e.bottom,s=e.className,c=e.cssModule,d=e.heading,v=e.left,h=e.list,b=e.middle,f=e.object,m=e.right,j=e.tag,p=e.top,O=Object(r.a)(e,["body","bottom","className","cssModule","heading","left","list","middle","object","right","tag","top"]);a=d?"h4":O.href?"a":O.src||f?"img":h?"ul":"div";var g=j||a,x=Object(u.m)(l()(s,{"media-body":t,"media-heading":d,"media-left":v,"media-right":m,"media-top":p,"media-bottom":i,"media-middle":b,"media-object":f,"media-list":h,media:!t&&!d&&!v&&!m&&!p&&!i&&!b&&!f&&!h}),c);return o.a.createElement(g,Object(n.a)({},O,{className:x}))};h.propTypes=v,a.a=h},628:function(e,a,t){"use strict";var n=t(1),r=t(15),i=t(459),o=t(475),s=t(458),c=t(557),d=t(1268),l=t(1347),u=t(1277),v=t(1278),h=t(445),b=t(0),f=t(514),m=(t(1262),t(477)),j=t(448),p=t(114),O=t(467),g=t(466),x=t(468),w=t(480),y=t(581),N=t(1349),k=t(1274),C=t(1275),S=t(6),T=function(e){return Object(S.jsx)("div",{children:Object(S.jsxs)(N.a,{isOpen:null===e||void 0===e?void 0:e.IsOpenModal,className:"modal-dialog-centered ",children:[Object(S.jsx)(k.a,{toggle:function(){return e.setIsOpenModal(!1)},children:"\u0110\xf4i m\u1eadt kh\u1ea9u"}),Object(S.jsxs)(C.a,{children:[Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"M\u1eadt kh\u1ea9u m\u1edbi"}),Object(S.jsx)(v.a,{value:e.passwordToUpdate||"",onChange:function(a){return e.handleChangeInput("passwordToUpdate",a)},placeholder:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi"})]}),Object(S.jsx)(h.a,{onClick:function(){e.handleUpdatePassword()},color:"primary",children:"X\xe1c nh\u1eadn"})]})]})})},P=t(471);a.a=function(e){var a,t,N=Object(b.useState)([]),k=Object(r.a)(N,2),C=k[0],I=k[1],M=Object(m.g)(),E=Object(b.useState)(null),A=Object(r.a)(E,2),U=A[0],D=A[1],z=Object(b.useState)(void 0),V=Object(r.a)(z,2),Y=V[0],L=V[1],q=Object(b.useState)(!1),B=Object(r.a)(q,2),F=B[0],R=B[1],H=Object(b.useState)(!1),J=Object(r.a)(H,2),W=J[0],X=J[1],Z=Object(b.useState)({firstName:void 0,username:void 0,email:void 0,password:void 0,phoneNumber:void 0,staffAvatar:void 0,roleId:void 0}),$=Object(r.a)(Z,2),_=$[0],G=$[1];Object(b.useEffect)((function(){var a,t,r,i,o,s,c;_.firstName=null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.firstName,_.username=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.username,_.email=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.email,_.password=null,_.phoneNumber=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.phoneNumber,_.staffAvatar=(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.staffAvatar)||void 0,_.roleId=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.roleId,D(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.roleName),G(Object(n.a)({},_)),j.a.send({method:"POST",path:"/Role/getList",data:{skip:0,limit:100,order:{key:"createdAt",value:"desc"}},query:null}).then((function(e){if(e){var a=e.statusCode,t=e.data,n=e.message;if(200===a){var r=t.data.filter((function(e){return 1!==e.roleId}));I(r)}else p.c.warn(n||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}),[null===e||void 0===e?void 0:e.data]);var K=function(e,a){switch(e){case"lastName":_.lastName=a.target.value,G(Object(n.a)({},_));break;case"firstName":_.firstName=a.target.value,G(Object(n.a)({},_));break;case"username":_.username=a.target.value,G(Object(n.a)({},_));break;case"email":_.email=a.target.value,G(Object(n.a)({},_));break;case"password":_.password=a.target.value,G(Object(n.a)({},_));break;case"phoneNumber":_.phoneNumber=a.target.value,G(Object(n.a)({},_));break;case"staffAvatar":_.staffAvatar=a.target.value,G(Object(n.a)({},_));break;case"roleId":_.roleId=a.target.value,G(Object(n.a)({},_));break;case"passwordToUpdate":L(a.target.value)}};var Q=function(){if(null===e||void 0===e?void 0:e.id){if(void 0===(null===_||void 0===_?void 0:_.roleId)||null===(null===_||void 0===_?void 0:_.roleId))return void p.c.warn("Vui l\xf2ng ch\u1ecdn vai tr\xf2");_.username=void 0,_.password=void 0,G(Object(n.a)({},_)),function(e){j.a.send({method:"POST",path:"/Staff/updateStaffById",data:e,headers:{}}).then((function(e){if(e){var a=e.statusCode,t=e.message;200===a?(p.c.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),M.push("/account-admin/list")):p.c.warn(t||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}({id:null===e||void 0===e?void 0:e.id,data:Object(n.a)({},_)})}else{var a,t;if((null===_||void 0===_||null===(a=_.username)||void 0===a?void 0:a.length)<6||void 0===(null===_||void 0===_||null===(t=_.username)||void 0===t?void 0:t.length)||!1===!!(null===_||void 0===_?void 0:_.username).match(/^[a-zA-Z0-9]+$/))return void p.c.warn("T\xean t\xe0i kho\u1ea3n \xedt nh\u1ea5t 6 k\xfd t\u1ef1 v\xe0 kh\xf4ng k\xed t\u1ef1 ho\u1eb7c kho\u1ea3ng c\xe1ch");if(void 0===(null===_||void 0===_?void 0:_.roleId)||null===(null===_||void 0===_?void 0:_.roleId))return void p.c.warn("Vui l\xf2ng ch\u1ecdn vai tr\xf2");if(void 0===(null===_||void 0===_?void 0:_.password)||null===(null===_||void 0===_?void 0:_.password))return void p.c.warn("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u");r=_,j.a.send({method:"POST",path:"/Staff/insertStaff",data:r,headers:{}}).then((function(e){if(e){var a=e.statusCode,t=e.message;"DUPLICATED_USER"===t?p.c.warn("Email \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng"):200===a?(p.c.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng"),M.push("/account-admin/list")):p.c.warn(t||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}var r};return Object(S.jsxs)("div",{className:"admin-detail",children:[W?Object(S.jsx)(P.a,{}):null,Object(S.jsxs)(i.a,{className:"p-2 detail-input",children:[Object(S.jsx)("h2",{className:"detail-title mb-3",children:e.title}),Object(S.jsxs)(o.a,{children:[Object(S.jsxs)(s.a,{lg:2,id:"render-image2",className:"text-center",children:[Object(S.jsx)(f.a,{img:(null===_||void 0===_?void 0:_.staffAvatar)?null===_||void 0===_?void 0:_.staffAvatar:y.a,imgHeight:"88",imgWidth:"88",width:"88",height:"88",style:{marginBottom:"14px"}}),!(null===e||void 0===e?void 0:e.disabled)&&Object(S.jsx)(c.a,{className:"flex-column flex-md-row",style:{display:"block"},children:Object(S.jsx)(c.a,{body:!0,children:Object(S.jsx)("div",{className:"d-inline-block input-add-image",children:Object(S.jsxs)(d.a,{className:"mb-0 position-relative",children:[Object(S.jsx)(l.a,{type:"file",id:"exampleCustomFileBrowser",name:"customFile",onChange:function(e){var a;X(!0);var t=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.files[0];Object(x.a)(t).then((function(e){var a=e.replace(/,/gi,"").split("base64");if(a[1]){var r={imageData:a[1],imageFormat:t.type.replace("image/","")};if(t.size>10048576)return;w.a.uploadImage(r).then((function(e){X(!1),_.staffAvatar=e,G(Object(n.a)({},_))}))}}))},multiple:"multiple",accept:".jpg, .png, .gif"}),Object(S.jsx)("p",{className:"content-input",children:"Thay \u0111\u1ed5i \u1ea3nh"})]})})})})]}),Object(S.jsx)(s.a,{children:Object(S.jsxs)(o.a,{children:[Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"T\xean t\xe0i kho\u1ea3n"}),Object(S.jsx)(v.a,{value:_.username||"",onChange:function(e){return K("username",e)},disabled:!!(null===e||void 0===e?void 0:e.id)})]})}),Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"Vai tr\xf2"}),Object(S.jsx)(O.a,{getOptionValue:function(e){return null===e||void 0===e?void 0:e.roleId},getOptionLabel:function(e){return null===e||void 0===e?void 0:e.roleName},isClearable:!1,className:"react-select",classNamePrefix:"select",options:C,placeholder:"Vai tr\xf2",value:null===C||void 0===C?void 0:C.find((function(e){return e.roleName===U})),onChange:function(e){D(e.roleName),_.roleId=e.roleId,G(Object(n.a)({},_))},isDisabled:e.disabled})]})}),!(null===e||void 0===e?void 0:e.id)&&Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"M\u1eadt kh\u1ea9u"}),Object(S.jsx)(v.a,{autoComplete:"new-password",type:"password",value:_.password||"",onChange:function(e){return K("password",e)}})]})}),Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"H\u1ecd v\xe0 t\xean"}),Object(S.jsx)(v.a,{value:_.firstName||"",onChange:function(e){return K("firstName",e)},disabled:e.disabled})]})}),Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"Email"}),Object(S.jsx)(v.a,{type:"email",value:_.email||"",onChange:function(e){return K("email",e)},disabled:!1})]})}),Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object(S.jsx)(v.a,{type:"number",value:_.phoneNumber||"",onChange:function(e){return K("phoneNumber",e)},disabled:e.disabled})]})}),(null===e||void 0===e?void 0:e.disabled)&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"Ng\xe0y t\u1ea1o"}),Object(S.jsx)(v.a,{value:Object(g.b)((null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.createdAt)||""),disabled:e.disabled})]})}),Object(S.jsx)(s.a,{lg:4,children:Object(S.jsxs)(d.a,{children:[Object(S.jsx)(u.a,{children:"C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i"}),Object(S.jsx)(v.a,{value:Object(g.b)((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.updatedAt)||""),disabled:e.disabled})]})})]})]})})]})]}),Object(S.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[Object(S.jsx)(h.a,{color:"primary",className:"mr-2",onClick:function(){return M.push("/account-admin/list")},children:"Tr\u1edf l\u1ea1i"}),(null===e||void 0===e?void 0:e.id)&&!e.disabled&&Object(S.jsx)(h.a,{color:"primary",type:"button",className:"mr-2",onClick:function(){return R(!0)},children:"\u0110\u1ed5i m\u1eadt kh\u1ea9u"}),!(null===e||void 0===e?void 0:e.disabled)&&Object(S.jsx)(h.a,{color:"primary",type:"button",onClick:function(){return Q()},children:(null===e||void 0===e?void 0:e.id)?"C\u1eadp nh\u1eadt":"L\u01b0u"})]}),Object(S.jsx)(T,{id:e.id,IsOpenModal:F,handleChangeInput:K,setPasswordToUpdate:L,passwordToUpdate:Y,setIsOpenModal:R,handleUpdatePassword:function(){var a;void 0!==Y&&""!==Y&&null!==Y?(X(!0),a={id:null===e||void 0===e?void 0:e.id,newPassword:Y},j.a.send({method:"POST",path:"/Staff/adminChangePasswordStaff",data:a,headers:{}}).then((function(e){if(setTimeout((function(){return X(!1)}),500),e){var a=e.statusCode,t=e.message;200===a?p.c.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"):p.c.warn(t||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}})),R(!1)):p.c.warn("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi")}})]})}}}]);
//# sourceMappingURL=7.c6b4de86.chunk.js.map