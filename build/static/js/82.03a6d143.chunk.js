(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[82],{1292:function(e,a,t){"use strict";t.r(a);var n=t(29),s=t(1),c=t(15),r=t(0),i=t(114),l=t(706),o=t(689),d=t(701),u=t(465),m=t.n(u),j=(t(617),t(456)),b=(t(450),t(448)),f=t(449),h=t.n(f),O=t(676),p=t(455),v=t.n(p),g=(t(1173),t(1270)),x=t(1348),N=t(1271),y=t(1273),S=t(459),C=t(475),k=t(458),T=t(1278),I=t(1277),w=t(445),R=t(1349),q=t(1274),L=t(1275),z=t(1276),A=t(1268),P=(t(451),t(6)),F=[{value:"",label:"T\u1ea5t c\u1ea3 tr\u1ea1ng th\xe1i"},{value:1,label:"Ho\u1ea1t \u0111\u1ed9ng"},{value:0,label:"Kho\xe1"}],W={filter:{active:1},skip:0,limit:20,order:{key:"createdAt",value:"desc"}},B=function(){var e=Object(r.useState)("1"),a=Object(c.a)(e,2),t=(a[0],a[1],[{name:"ID",selector:"staffId",sortable:!0,maxWidth:"60px"},{name:"T\xe0i kho\u1ea3n",selector:"username",sortable:!0,minWidth:"100px"},{name:"H\u1ecd v\xe0 t\xean",selector:"username",sortable:!0,maxWidth:"200px",cell:function(e){var a=e.firstName,t=e.lastName;return Object(P.jsxs)("div",{children:[a," ",t]})}},{name:"Email",selector:"email",sortable:!0,minWidth:"200px"},{name:"S\u0110T",selector:"phoneNumber",sortable:!0},{name:"Vai tr\xf2",selector:"roleName",sortable:!0},{name:"T\xe1c v\u1ee5",selector:"action",cell:function(e){var a=e.lastName,t=e.firstName,n=e.phoneNumber,s=e.active,c=e.twoFACode,r=e.telegramId,i=e.roleId,u=e.email,m=e.staffId;return Object(P.jsxs)(g.a,{children:[Object(P.jsx)(x.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(P.jsx)(l.a,{size:15})}),Object(P.jsxs)(N.a,{right:!0,children:[Object(P.jsxs)(y.a,{href:"/",onClick:function(e){e.preventDefault(),U(!0),Te({staffId:m,firstName:t,lastName:a,phoneNumber:n,twoFACode:c,telegramId:r,roleId:i,email:u,active:s})},children:[Object(P.jsx)(o.a,{className:"mr-50",size:15})," ",Object(P.jsx)("span",{className:"align-middle",children:"S\u1eeda"})]}),Object(P.jsxs)(y.a,{href:"/",onClick:function(e){e.preventDefault(),we({id:m,data:{firstName:t,lastName:a,phoneNumber:n,roleId:i,email:u,active:0}},"Action Lock Successful!")},children:[Object(P.jsx)(d.a,{className:"mr-50",size:15})," ",Object(P.jsx)("span",{className:"align-middle",children:"Kho\xe1"})]})]})]})}}]),u=Object(r.useState)(W),f=Object(c.a)(u,2),p=f[0],B=f[1],D=Object(r.useState)([]),E=Object(c.a)(D,2),H=E[0],M=E[1],V=Object(r.useState)(!1),K=Object(c.a)(V,2),J=K[0],U=K[1],G=Object(r.useState)(1),Q=Object(c.a)(G,2),X=Q[0],Y=Q[1],Z=Object(r.useState)(20),$=Object(c.a)(Z,2),_=$[0],ee=($[1],Object(r.useState)(20)),ae=Object(c.a)(ee,2),te=ae[0],ne=ae[1],se=Object(r.useState)([]),ce=Object(c.a)(se,2),re=ce[0],ie=ce[1],le=Object(r.useState)(!1),oe=Object(c.a)(le,2),de=oe[0],ue=oe[1],me=Object(r.useState)(""),je=Object(c.a)(me,2),be=je[0],fe=je[1],he=Object(r.useState)({value:"username",label:"T\xe0i kho\u1ea3n"}),Oe=Object(c.a)(he,2),pe=(Oe[0],Oe[1],Object(r.useState)(!1)),ve=Object(c.a)(pe,2),ge=(ve[0],ve[1],Object(j.b)({defaultValues:{}})),xe=ge.register,Ne=ge.errors,ye=ge.handleSubmit,Se=Object(r.useState)({}),Ce=Object(c.a)(Se,2),ke=Ce[0],Te=Ce[1];function Ie(e,a){var t=Object(s.a)({},e);a||ue(!0),Object.keys(t.filter).forEach((function(e){t.filter[e]&&""!==t.filter[e]||delete t.filter[e]})),b.a.send({method:"POST",path:"Staff/getListStaff",data:t,query:null}).then((function(e){if(e){var n=e.statusCode,s=e.data,c=e.message;B(t),200===n?(ne(s.total),ie(s.data)):i.c.warn(c||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}else ne(1),ie([]);a||ue(!1),b.a.send({method:"POST",path:"Role/getList",data:{filter:{},skip:0,limit:20,order:{key:"createdAt",value:"desc"}},query:null}).then((function(e){if(e){var a=e.statusCode,t=e.data,n=e.message;if(200===a){var s=t.data.filter((function(e){return 1!==e.roleId}));M(s)}else i.c.warn(n||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}))}function we(e,a){b.a.send({method:"POST",path:"Staff/updateStaffById",data:e,query:null}).then((function(e){if(e){var t=e.statusCode,n=e.message;200===t?(i.c.success(a||"T\xe1c v\u1ee5 th\xe0nh c\xf4ng!"),Ie(p)):i.c.warn(n||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}var Re=m.a.debounce((function(e){Ie(e,!0)}),2e3);Object(r.useEffect)((function(){Ie(p)}),[]);var qe=function(e,a){Te(Object(s.a)(Object(s.a)({},ke),{},Object(n.a)({},e,a)))};return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(S.a,{className:"accountAdmin",children:[Object(P.jsxs)(C.a,{className:"mx-0 mt-1 mb-50",children:[Object(P.jsx)(k.a,{sm:"2",children:Object(P.jsx)(T.a,{onChange:function(e){var a=e.target;!function(e,a){Ie(Object(s.a)(Object(s.a)({},p),{},{filter:Object(s.a)(Object(s.a)({},p.filter),{},Object(n.a)({},e,a)),skip:0}))}(a.name,a.value)},type:"select",value:p.filter&&p.filter.active||"",name:"active",bsSize:"lg",children:F.map((function(e){return Object(P.jsx)("option",{value:e.value,children:e.label})}))})}),Object(P.jsxs)(k.a,{className:"d-flex align-items-center justify-content-sm-end mt-sm-0 mt-1",sm:"3",children:[Object(P.jsx)(I.a,{className:"mr-1",for:"search-input",children:"T\xecm"}),Object(P.jsx)(T.a,{className:"dataTable-filter",type:"text",bsSize:"lg",id:"search-input",value:be,onChange:function(e){!function(e){var a=e.target.value;fe(a);var t=Object(s.a)(Object(s.a)({},p),{},{searchText:a,skip:0});Re(t)}(e)}})]}),Object(P.jsx)(k.a,{sm:"2",children:Object(P.jsx)(w.a.Ripple,{Ripple:!0,color:"primary",size:"lg",onClick:function(){U(!0),Te({})},children:"Th\xeam"})}),Object(P.jsx)(k.a,{sm:"4"})]}),Object(P.jsx)(v.a,{noHeader:!0,pagination:!0,paginationServer:!0,className:"react-dataTable",columns:t,sortIcon:Object(P.jsx)(O.a,{size:10}),paginationComponent:function(){var e=Number(Math.ceil(te/_).toFixed(0));return Object(P.jsx)(h.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:0!==X?X-1:0,onPageChange:function(e){return function(e){Ie(Object(s.a)(Object(s.a)({},p),{},{skip:e.selected*p.limit})),Y(e.selected+1)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:re,progressPending:de}),Object(P.jsxs)(R.a,{isOpen:J,toggle:function(){return U(!1)},className:"modal-dialog-centered ",children:[Object(P.jsxs)(q.a,{toggle:function(){return U(!1)},children:[ke.staffId?"S\u1eeda":"Th\xeam"," Th\xf4ng Tin"]}),Object(P.jsx)(L.a,{children:Object(P.jsxs)(z.a,{onSubmit:ye((function(e){ke.staffId?(e&&(delete e.username,delete e.password),we({id:ke.staffId,data:e})):function(e,a){var t=window.localStorage.getItem("accessToken");if(t){var n=t.replace(/"/g,"");b.a.send({method:"POST",path:"Staff/insertStaff",data:e,query:null,headers:{Authorization:"Bearer "+n}}).then((function(e){if(e){var t=e.statusCode,n=e.message;200===t?(i.c.success(a||"Action Add User successful!"),Ie(p)):i.c.warn(n||"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra!")}}))}}(e),U(!1)})),children:[ke.staffId?null:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{for:"username",children:"T\xe0i kho\u1ea3n"}),Object(P.jsx)(T.a,{id:"username",name:"username",innerRef:xe({required:!0}),invalid:Ne.username&&!0,placeholder:"Bruce01",value:ke.username||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)}})]}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{for:"password",children:"M\u1eadt kh\u1ea9u"}),Object(P.jsx)(T.a,{id:"password",name:"password",innerRef:xe({required:!0}),invalid:Ne.password&&!0,placeholder:"****",value:ke.password||"",type:"password",onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)}})]})]}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{for:"firstName",children:"H\u1ecd"}),Object(P.jsx)(T.a,{id:"firstName",name:"firstName",innerRef:xe({required:!0}),invalid:Ne.firstName&&!0,placeholder:"Bruce",value:ke.firstName||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)}})]}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{for:"lastName",children:"T\xean"}),Object(P.jsx)(T.a,{id:"lastName",name:"lastName",innerRef:xe({required:!0}),invalid:Ne.lastName&&!0,placeholder:"Wayne",value:ke.lastName||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)}})]}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{for:"email",children:"Email"}),Object(P.jsx)(T.a,{id:"email",name:"email",innerRef:xe({required:!0}),invalid:Ne.email&&!0,placeholder:"Wayne@gmail.com",value:ke.email||"",type:"email",onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)}})]}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{for:"phoneNumber",children:"S\u1ed1 \u0111i\xean tho\u1ea1i"}),Object(P.jsx)(T.a,{innerRef:xe({required:!0}),invalid:Ne.lastNameBasic&&!0,name:"phoneNumber",placeholder:"+84943881692",options:{phone:!0,phoneRegionCode:"VI"},value:ke.phoneNumber||"",onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)}})]}),Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{children:"Vai tr\xf2"}),Object(P.jsx)(T.a,{type:"select",name:"roleId",innerRef:xe({required:!0}),invalid:Ne.roleId&&!0,value:ke.roleId,onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)},children:H.map((function(e){return Object(P.jsx)("option",{value:e.roleId,children:e.roleName})}))})]}),ke.staffId?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(A.a,{children:[Object(P.jsx)(I.a,{children:"Tr\u1ea1ng th\xe1i"}),Object(P.jsxs)(T.a,{type:"select",name:"active",innerRef:xe({required:!0}),invalid:Ne.active&&!0,value:ke.active||1,onChange:function(e){var a=e.target,t=a.name,n=a.value;qe(t,n)},children:[Object(P.jsx)("option",{value:1,children:"Ho\u1ea1t \u0111\u1ed9ng"}),Object(P.jsx)("option",{value:0,children:"Kho\xe1"})]})]})}):null,Object(P.jsx)(A.a,{className:"d-flex mb-0",children:Object(P.jsx)(w.a.Ripple,{className:"mr-1",color:"primary",type:"submit",children:"L\u01b0u"})})]})})]})]})})};a.default=Object(r.memo)(B)},459:function(e,a,t){"use strict";var n=t(14),s=t(20),c=t(0),r=t.n(c),i=t(5),l=t.n(i),o=t(55),d=t.n(o),u=t(77),m={tag:u.q,inverse:l.a.bool,color:l.a.string,body:l.a.bool,outline:l.a.bool,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},j=function(e){var a=e.className,t=e.cssModule,c=e.color,i=e.body,l=e.inverse,o=e.outline,m=e.tag,j=e.innerRef,b=Object(s.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=Object(u.m)(d()(a,"card",!!l&&"text-white",!!i&&"card-body",!!c&&(o?"border":"bg")+"-"+c),t);return r.a.createElement(m,Object(n.a)({},b,{className:f,ref:j}))};j.propTypes=m,j.defaultProps={tag:"div"},a.a=j},617:function(e,a,t){}}]);
//# sourceMappingURL=82.03a6d143.chunk.js.map