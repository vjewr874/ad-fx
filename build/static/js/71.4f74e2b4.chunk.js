(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[71],{1341:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(15),c=a(0),i=a(1269),s=a(1330),o=a(459),u=a(475),d=a(458),l=a(1270),f=a(1348),m=a(1271),p=a(1273),g=a(1278),h=a(710),b=a(675),j=a(676),v=a(127),k=a(455),O=a.n(k),y=a(449),x=a.n(y),P=a(114),w=(a(463),a(462)),S=(a(450),a(1349)),C=a(1274),M=a(1275),_=a(1276),N=a(1268),B=a(1277),T=a(445),A=a(456),E=a(6),I=Object(v.c)((function(e){var t=e.intl,a=e.open,n=e.toggleSidebar,i=e.item,s=e.onReloadData,o=Object(c.useState)(i||{}),u=Object(r.a)(o,2),d=u[0],l=u[1],f=Object(c.useState)("0.000001"),m=Object(r.a)(f,2),p=m[0],h=m[1],b=Object(A.b)({defaultValues:{}}),j=b.register,v=b.handleSubmit;Object(c.useEffect)((function(){i&&Object.keys(i).length>0&&l(i)}),[i]);return Object(E.jsxs)(S.a,{isOpen:a,toggle:n,className:"modal-dialog-centered ",children:[Object(E.jsx)(C.a,{toggle:n,children:t.formatMessage({id:"reward_BTC_machine"})}),Object(E.jsx)(M.a,{children:Object(E.jsxs)(_.a,{onSubmit:v((function(){var e={paymentServicePackageUserId:d.paymentServicePackageUserId,profitBonus:parseFloat(p)};w.a.rewardProfit(e).then((function(){P.c.success(t.formatMessage({id:"add_reward_success"})),n(),s()})).catch((function(){P.c.error(t.formatMessage({id:"add_reward_failed"}))}))})),children:[Object(E.jsxs)(N.a,{children:[Object(E.jsx)(B.a,{for:"paymentAmount",children:t.formatMessage({id:"payment_amount"})}),Object(E.jsxs)("div",{className:"d-flex align-items-baseline",children:[Object(E.jsx)(g.a,{id:"paymentAmount",type:"number",name:"paymentAmount",pattern:"[0-9]+([,\\.][0-9]+)?",innerRef:j({required:!0}),placeholder:t.formatMessage({id:"input_amount"}),value:p,onChange:function(e){return function(e){h(e.target.value)}(e)}}),Object(E.jsx)(B.a,{for:"paymentAmount",className:"ml-2",children:t.formatMessage({id:"BTC"})})]})]}),Object(E.jsx)(N.a,{className:"d-flex mb-0",children:Object(E.jsx)(T.a.Ripple,{className:"mr-1",color:"primary",type:"submit",children:t.formatMessage({id:"submit"})})})]})})]})})),D=a(487),L=a(498),U=a(631),W=Object(v.c)((function(e){var t=e.intl,a=e.open,n=e.toggleSidebar,i=e.item,s=e.onReloadData,d=Object(c.useState)(i||{}),l=Object(r.a)(d,2),f=l[0],m=l[1];Object(c.useEffect)((function(){i&&Object.keys(i).length>0&&m(i)}),[i]);return Object(E.jsxs)(S.a,{isOpen:a,toggle:n,className:"modal-dialog-centered ",children:[Object(E.jsx)(C.a,{toggle:n,children:t.formatMessage({id:"submit_cancel"})}),Object(E.jsx)(M.a,{children:Object(E.jsx)(o.a,{children:Object(E.jsxs)(D.a,{children:[Object(E.jsx)(u.a,{className:"mt-2 mb-4 mx-0",children:Object(E.jsx)(L.a,{children:t.formatMessage({id:"want_accept_cancel"})})}),Object(E.jsxs)(u.a,{className:"my-2 mx-2 justify-content-between",children:[Object(E.jsxs)(T.a.Ripple,{onClick:function(e){return function(){var e={id:f.paymentServicePackageUserId};if(0===f.packageActivityStatus)return P.c.warning(t.formatMessage({id:"package_completed"})),void n();w.a.completePackageUser(e).then((function(e){P.c.success(t.formatMessage({id:"cancel_success"})),n(),s()})).catch((function(e){P.c.error(t.formatMessage({id:"an_error_occurred"}))}))}()},color:"primary",outline:!0,children:[Object(E.jsx)("span",{children:Object(E.jsx)(b.a,{className:"mr-2"})}),t.formatMessage({id:"yes"})]}),Object(E.jsxs)(T.a.Ripple,{onClick:function(e){return n()},color:"primary",outline:!0,children:[Object(E.jsx)("span",{children:Object(E.jsx)(U.a,{className:"mr-2"})}),t.formatMessage({id:"no"})]})]})]})})})]})})),R=a(451),F=a.n(R);function z(e){var t=e.intl,a=Object(c.useState)(20),v=Object(r.a)(a,2),k=v[0],y=v[1],S=Object(c.useState)([]),C=Object(r.a)(S,2),M=C[0],_=C[1],N=Object(c.useState)("all"),B=Object(r.a)(N,2),T=B[0],A=B[1],D=Object(c.useState)(""),L=Object(r.a)(D,2),U=L[0],R=L[1],z=Object(c.useState)(!1),H=Object(r.a)(z,2),J=H[0],q=H[1],K=Object(c.useState)(!1),V=Object(r.a)(K,2),G=V[0],Q=V[1],X=Object(c.useState)(null),Y=Object(r.a)(X,2),Z=Y[0],$=Y[1],ee=function(){q(!J)},te=function(){Q(!G)},ae=Object(c.useState)({filter:{},skip:0,limit:20,order:{key:"createdAt",value:"desc"}}),ne=Object(r.a)(ae,2),re=ne[0],ce=ne[1],ie=function(e){var a=Object(n.a)({},e);w.a.findUserBuyPackage(a).then((function(e){y(e.total),_(e.data)})).catch((function(e){P.c.error(t.formatMessage({id:"actionFailed"},{action:t.formatMessage({id:"update"},e)}))}))};Object(c.useEffect)((function(){ie(re)}),[]);var se=function(e){var t=Object(n.a)(Object(n.a)({},re),{},{filter:Object(n.a)({},re.filter),skip:0});switch(null!==e?t.filter.packageActivityStatus=e:delete t.filter.packageActivityStatus,e){case null:A("all");break;case 0:A("completed");break;case 3:A("canceled");break;case 1:A("mining");break;case 2:A("standingby")}ce(t),ie(t)},oe=function(e){switch(e){case 0:return t.formatMessage({id:"package_activity_completed"});case 1:return t.formatMessage({id:"package_activity_mining"});case 2:return t.formatMessage({id:"package_activity_standingby"});case 3:return t.formatMessage({id:"package_activity_canceled"});default:return"N/A"}},ue=[{name:"ID",selector:"paymentServicePackageUserId",width:"80px"},{name:t.formatMessage({id:"name_machine"}),selector:"packageName",minWidth:"150px"},{name:t.formatMessage({id:"package_type"}),selector:"packageType",minWidth:"150px"},{name:t.formatMessage({id:"account"}),selector:"username",minWidth:"150px"},{name:t.formatMessage({id:"duration_machine"}),selector:"packageDuration",minWidth:"100px",cell:function(e){var t=e.packageExpireDate,a=F()(),n=F()(t);return Object(E.jsx)("div",{children:n.diff(a,"days")>0?n.diff(a,"days"):0})}},{name:t.formatMessage({id:"profitClaimed"}),selector:"profitClaimed",minWidth:"100px"},{name:t.formatMessage({id:"profitActual"}),selector:"profitActual",minWidth:"100px"},{name:t.formatMessage({id:"profitBonus"}),selector:"profitBonus",minWidth:"100px"},{name:t.formatMessage({id:"profitBonusClaimed"}),selector:"profitBonusClaimed",minWidth:"100px"},{name:t.formatMessage({id:"status"}),selector:"packageActivityStatus",maxWidth:"200px",cell:function(e){var t=e.packageActivityStatus,a=function(e){switch(e){case 2:return"warning";case 1:return"secondary";default:return}}(t);return Object(E.jsx)(i.a,{color:a,children:oe(t)})}},{name:t.formatMessage({id:"action"}),selector:"action",maxWidth:"150px",cell:function(e){e.paymentServicePackageUserId;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("span",{className:"full-width cursor-pointer text-secondary",onClick:function(t){t.preventDefault();var a=Object(n.a)({},e);$(a),ee()},children:[Object(E.jsx)(h.a,{size:15,id:"reward"}),Object(E.jsx)(s.a,{placement:"top",target:"reward",children:t.formatMessage({id:"reward"})})]}),Object(E.jsxs)("span",{className:"full-width cursor-pointer text-secondary",onClick:function(t){t.preventDefault();var a=Object(n.a)({},e);$(a),te()},children:[Object(E.jsx)(b.a,{size:15,id:"delete"}),Object(E.jsx)(s.a,{placement:"top",target:"delete",children:t.formatMessage({id:"complete"})})]})]})}}],de=function(e){var t=e.target.value;if(""===t)delete re.searchText,delete re.filter.packageActivityStatus,A("all"),ie(re),ce(re);else{var a=Object(n.a)(Object(n.a)({},re),{},{filter:Object(n.a)({},re.filter),searchText:t,skip:0});switch(T){case"all":break;case"completed":a.filter.packageActivityStatus=0;break;case"mining":a.filter.packageActivityStatus=1;break;case"standingby":a.filter.packageActivityStatus=2;break;case"canceled":a.filter.packageActivityStatus=3}ce(a),ie(a)}},le=function(){ce(re),ie(re)};return Object(E.jsxs)(c.Fragment,{children:[Object(E.jsxs)(o.a,{className:"p-1",children:[Object(E.jsxs)(u.a,{className:"px-0 justify-content-between",children:[Object(E.jsx)(d.a,{sm:12,lg:4,className:"d-flex mb-1",children:Object(E.jsxs)(l.a,{children:[Object(E.jsx)(f.a,{color:"primary",caret:!0,outline:!0,children:function(e){switch(e){case"all":return t.formatMessage({id:"all_status"});case"mining":return t.formatMessage({id:"package_activity_mining"});case"standingby":return t.formatMessage({id:"package_activity_standingby"});case"completed":return t.formatMessage({id:"package_activity_completed"});case"canceled":return t.formatMessage({id:"package_activity_canceled"});default:return""}}(T)}),Object(E.jsxs)(m.a,{children:[Object(E.jsx)(p.a,{className:"full-width",value:"all",onClick:function(){return se(null)},children:t.formatMessage({id:"all_status"})}),Object(E.jsx)(p.a,{className:"full-width",value:"mining",onClick:function(){return se(1)},children:t.formatMessage({id:"package_activity_mining"})}),Object(E.jsx)(p.a,{className:"full-width",value:"standingby",onClick:function(){return se(2)},children:t.formatMessage({id:"package_activity_standingby"})}),Object(E.jsx)(p.a,{className:"full-width",value:"completed",onClick:function(){return se(0)},children:t.formatMessage({id:"package_activity_completed"})}),Object(E.jsx)(p.a,{className:"full-width",value:"canceled",onClick:function(){return se(3)},children:t.formatMessage({id:"package_activity_canceled"})})]})]})}),Object(E.jsx)(d.a,{className:"mb-1",sm:12,lg:4,children:Object(E.jsx)(g.a,{value:U,onChange:function(e){R(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&de(e)},placeholder:t.formatMessage({id:"search"})})})]}),Object(E.jsx)(O.a,{noHeader:!0,pagination:!0,highlightOnHover:!0,persistTableHead:!0,paginationServer:!0,noDataComponent:Object(E.jsx)("span",{className:"mt-2",children:t.formatMessage({id:"table_empty"})}),className:"react-dataTable",columns:ue,sortIcon:Object(E.jsx)(j.a,{size:10}),paginationComponent:function(){var e=Number(Math.ceil(k/re.limit).toFixed(0));return Object(E.jsx)(x.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:re.skip/re.limit,onPageChange:function(e){return function(e){var t=Object(n.a)(Object(n.a)({},re),{},{skip:e.selected*re.limit});ie(t),ce(t)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},data:M})]}),Z&&J&&Object(E.jsx)(I,{item:Z,open:J,toggleSidebar:ee,onReloadData:le}),Z&&G&&Object(E.jsx)(W,{item:Z,open:G,toggleSidebar:te,onReloadData:le})]})}t.default=Object(v.c)(Object(c.memo)(z))},450:function(e,t,a){},462:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(452),r=a.n(n),c=a(453),i=a(115),s=a(116),o=a(448),u=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"findPaymentPackage",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/find",data:t}).then((function(t){var n=t.statusCode,r=t.data,c=t.error;200===n?e(r):a(new Error(c))})).catch((function(e){a(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"findUserBuyPackage",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/findUserBuyPackage",data:t}).then((function(t){var n=t.statusCode,r=t.data,c=t.error;200===n?e(r):a(new Error(c))})).catch((function(e){a(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"findById",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/findById",data:{id:t}}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"completePackageUser",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/adminCompletePackagesById",data:t}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"insertPaymentPackage",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/insert",data:t}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateById",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/updateById",data:t}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"activePackagesList",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/activatePackagesByIdList",data:{idList:[t]}}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deactivatePackagesByIdList",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/deactivatePackagesByIdList",data:{idList:[t]}}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"rewardProfit",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/rewardProfitBonusForUser",data:t}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteById",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/deleteById",data:t}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"countAllUserPackage",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/countAllUserPackage",data:t}).then((function(t){var n=t.statusCode,r=t.data,c=t.error;200===n?e(r):a(new Error(c))})).catch((function(e){a(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"historyCancelServicePackage",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/admin/historyCancelServicePackage",data:t}).then((function(t){var n=t.statusCode,r=t.data,c=t.error;200===n?e(r):a(new Error(c))})).catch((function(e){a(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"historyCompleteServicePackage",value:function(){var e=Object(c.a)(r.a.mark((function e(){var t,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/admin/historyCompleteServicePackage",data:t}).then((function(t){var n=t.statusCode,r=t.data,c=t.error;200===n?e(r):a(new Error(c))})).catch((function(e){a(e)}))})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateChangeComplete",value:function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){o.a.send({method:"POST",path:"/PaymentServicePackage/admin/updateById",data:t}).then((function(t){var n=t.statusCode,r=t.error;if(200===n)return e();a(new Error(r))})).catch((function(e){a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},463:function(e,t,a){}}]);
//# sourceMappingURL=71.4f74e2b4.chunk.js.map