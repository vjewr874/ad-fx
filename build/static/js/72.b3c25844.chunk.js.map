{"version":3,"sources":["views/pages/maintain/index.js","../node_modules/reactstrap/es/Card.js"],"names":["MainTableServerSide","useState","items","setItems","isLoading","setIsLoading","useEffect","token","window","localStorage","getItem","newToken","replace","Service","send","method","path","data","query","headers","Authorization","then","res","statusCode","message","toast","warn","clear","getData","serverSideColumns","name","selector","sortable","maxWidth","cell","row","key","onChange","e","value","target","type","bsSize","text","Ripple","onClick","item","messageSuccess","success","handleActionData","status","color","size","className","style","border","noHeader","columns","progressPending","memo","propTypes","tag","tagPropType","inverse","PropTypes","bool","string","body","outline","cssModule","object","innerRef","oneOfType","func","Card","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","ref","defaultProps"],"mappings":"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","file":"static/js/72.b3c25844.chunk.js","sourcesContent":["// ** React Imports\nimport { Fragment, memo, useState, useEffect } from 'react'\nimport './index.scss'\nimport _ from 'lodash'\nimport { toast } from 'react-toastify';\nimport Service from '../../../services/request'\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\n\nimport DataTable from 'react-data-table-component'\nimport {\n  Card,\n  Button,\n  Input\n} from 'reactstrap'\n\nconst MainTableServerSide = () => {\n  // ** Store Vars\n  const [items, setItems] = useState({})\n  const [isLoading, setIsLoading] = useState(false)\n\n  // ** React hook form vars\n\n\n  function handleActionData(item, path, messageSuccess) {\n    const token = window.localStorage.getItem('accessToken')\n\n    if (token) {\n      const newToken = token.replace(/\"/g, \"\");\n\n      Service.send({\n        method: 'POST', path, data: item, query: null, headers: {\n          Authorization: `Bearer ` + newToken\n        }\n      }).then(res => {\n        if (res) {\n          const { statusCode, message } = res\n          if (statusCode === 200) {\n            toast.success(`${messageSuccess} successful!`)\n\n          } else {\n            toast.warn(message || 'Đã có lỗi xảy ra!')\n          }\n        }\n      })\n    }\n  }\n\n  function getData() {\n    setIsLoading(true)\n    const token = window.localStorage.getItem('accessToken')\n\n    if (token) {\n      const newToken = token.replace(/\"/g, \"\");\n\n      Service.send({\n        method: 'POST', path: 'Maintain/getSystemStatus', data: {}, query: null, headers: {\n          Authorization: `Bearer ` + newToken\n        }\n      }).then(res => {\n        if (res) {\n          const { statusCode, data, message } = res\n          if (statusCode === 200) {\n\n            setItems(data)\n          } else {\n            toast.warn(message || 'Đã có lỗi xảy ra!')\n          }\n        }\n        setIsLoading(false)\n      })\n    } else {\n      window.localStorage.clear()\n    }\n  }\n\n  useEffect(() => {\n    getData()\n  }, [])\n\n  const serverSideColumns = [\n    {\n      name: '',\n      selector: 'text',\n      sortable: true,\n      maxWidth: '150px'\n    },\n    {\n      name: 'Trạng thái',\n      selector: 'text',\n      sortable: true,\n      maxWidth: '150px',\n      cell: (row) => {\n        const { key } = row\n        return (\n          <Input onChange={(e) => {\n            const { value } = e.target\n\n            setItems({\n              ...items,\n              [key]: value === 'true'\n            })\n          }} type='select' value={items[key] || false} name={key} bsSize='sm' >\n            <option value={true}>Mở</option>\n            <option value={false}>Đóng</option>\n          </Input>\n        )\n      }\n    },\n    {\n      name: 'Tác vụ',\n      selector: 'action',\n      cell: (row) => {\n        const {\n          text,\n          path,\n          key\n        } = row\n        return (\n          <>\n            <Button.Ripple onClick={() => {\n              handleActionData({\n                status: items[key] || false,\n              }, path, text)\n            }} color='primary' size=\"sm\">{'Câp nhật'}</Button.Ripple>\n          </>\n        )\n      }\n    }\n  ]\n\n  return (\n    <Fragment>\n      <Card className=\"accountAdmin\">\n        <h2 style={{ border: 'unset' }} className=\"content-header-title mb-2\" >Bảo trì</h2>\n        <DataTable\n          noHeader\n          className='react-dataTable'\n          columns={serverSideColumns}\n          data={[\n            {\n              text: 'Hệ thông',\n              path: 'Maintain/maintainAll',\n              key: 'all'\n            },\n          \n            {\n              text: 'Nạp',\n              path: 'Maintain/maintainDeposit',\n              key: 'deposit'\n            },\n            {\n              text: 'Mua / Bán',\n              path: 'Maintain/maintainTransfer',\n              key: 'transfer'\n            },\n            {\n              text: 'Rút',\n              path: 'Maintain/maintainWithdraw',\n              key: 'withdraw'\n            },\n            {\n              text: 'Đăng ký',\n              path: 'Maintain/maintainSignup',\n              key: 'signup'\n            }\n\n          ]}\n          progressPending={isLoading}\n        />\n      </Card>\n\n\n    </Fragment >\n  )\n}\n\nexport default memo(MainTableServerSide)\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  inverse: PropTypes.bool,\n  color: PropTypes.string,\n  body: PropTypes.bool,\n  outline: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Card = function Card(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      color = props.color,\n      body = props.body,\n      inverse = props.inverse,\n      outline = props.outline,\n      Tag = props.tag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"color\", \"body\", \"inverse\", \"outline\", \"tag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card', inverse ? 'text-white' : false, body ? 'card-body' : false, color ? (outline ? 'border' : 'bg') + \"-\" + color : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes,\n    ref: innerRef\n  }));\n};\n\nCard.propTypes = propTypes;\nCard.defaultProps = defaultProps;\nexport default Card;"],"sourceRoot":""}