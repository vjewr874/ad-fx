(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[96],{1286:function(e,t,a){"use strict";a.r(t);a(29);var n=a(1),c=a(15),r=a(0),i=a(127),s=a(455),o=a.n(s),l=a(691),u=a(676),d=a(612),m=a(449),b=a.n(m),j=a(114),p=(a(465),a(450),a(451)),f=a.n(p),g=a(456),O=a(1330),h=a(459),x=a(501),v=a(613),k=a(500),S=a(6);function N(e){var t=e.intl,a=Object(r.useState)(),i=Object(c.a)(a,2),s=i[0],m=i[1],p=Object(r.useState)([]),N=Object(c.a)(p,2),y=N[0],M=N[1],C=Object(r.useState)(20),D=Object(c.a)(C,2),_=D[0],I=D[1],L=Object(r.useState)({filter:{betRecordType:"K31"},skip:0,limit:20,order:{key:"createdAt",value:"desc"}}),R=Object(c.a)(L,2),V=R[0],A=R[1],T=Object(r.useState)(!1),w=Object(c.a)(T,2),P=w[0],K=w[1],W=Object(r.useState)(!1),Y=Object(c.a)(W,2),H=Y[0],z=Y[1],F=Object(r.useState)({}),J=Object(c.a)(F,2),E=J[0],q=J[1],B=Object(r.useState)({}),G=Object(c.a)(B,2),Q=(G[0],G[1],Object(g.b)({defaultValues:{}})),U=(Q.register,Q.errors,Q.handleSubmit,Object(r.useState)("K31")),X=Object(c.a)(U,2),Z=X[0],$=X[1];function ee(e){var a=Object(n.a)({},e);d.a.find(a).then((function(e){M(e.data),I(e.total)})).catch((function(){j.c.error(t.formatMessage({id:"an_error_occurred"})+" "+t.formatMessage({id:"please_come_back_late"}))})).finally((function(){K(!1)}))}Object(r.useEffect)((function(){ee(V)}),[]);var te=[{name:"ID",selector:"betRecordId",maxWidth:"50px"},{name:t.formatMessage({id:"ticket_buy"}),maxWidth:"150px",cell:function(){var e=Object(k.b)(t).find((function(e){return e.value===Z}));return"K3 - "+(null===e||void 0===e?void 0:e.label)||!1}},{name:t.formatMessage({id:"section_name"}),selector:"betRecordSection"},{name:t.formatMessage({id:"amount_in"}),cell:function(e){return e.betRecordAmountIn?e.betRecordAmountIn.toLocaleString("it-IT",{style:"currency",currency:"VND"}):""}},{name:t.formatMessage({id:"amount_out"}),cell:function(e){return e.betRecordAmountOut?e.betRecordAmountOut.toLocaleString("it-IT",{style:"currency",currency:"VND"}):"0"}},{name:t.formatMessage({id:"buyer"}),maxWidth:"150px",cell:function(e){var t=e.firstName,a=e.lastName;return Object(S.jsxs)("div",{children:[t," ",a]})}},{name:t.formatMessage({id:"createdAt"}),selector:"time",maxWidth:"150px",cell:function(e){var t=e.createdAt;return Object(S.jsx)("div",{children:f.a.utc(f()(t)).format("DD/MM/YYYY")})}},{name:"",cell:function(e){return Object(S.jsx)("div",{className:"d-flex align-items-center",children:Object(S.jsxs)("span",{className:"full-width ml-2 cursor-pointer",onClick:function(t){t.preventDefault(),q(e),z(!0)},children:[Object(S.jsx)(l.a,{size:15,id:"detail"})," ",Object(S.jsx)(O.a,{placement:"top",target:"detail",children:t.formatMessage({id:"detail_ticket"})})]})})}}],ae=function(e){A(e),ee(e)};return Object(S.jsxs)(r.Fragment,{children:[Object(S.jsxs)(h.a,{className:"p-1",children:[Object(S.jsx)(x.a,{inputSearchValue:s,setInputSearchValue:function(e){return m(e)},refId:"k3_ref_search",placeholder:t.formatMessage({id:"search"})+" "+t.formatMessage({id:"buyer"}),dropdownValue:Object(k.b)(t),setDropdownValue:function(e){V.filter.betRecordType=e,A(V),$(e),ee(V)},currentDropdownValue:Z,onSearch:function(e){ae(Object(n.a)(Object(n.a)({},V),{},{searchText:e}))},rangePicker:!0,onPickDate:function(e){e&&2===e.length&&ae(Object(n.a)(Object(n.a)({},V),{},{startDate:f()(e[0]).toISOString(),endDate:f()(e[1]).toISOString()}))}}),Object(S.jsx)(o.a,{progressPending:P,noHeader:!0,pagination:!0,paginationServer:!0,highlightOnHover:!0,persistTableHead:!0,noDataComponent:Object(S.jsx)("span",{className:"mt-2",children:t.formatMessage({id:"table_empty"})}),className:"react-dataTable",columns:te,paginationComponent:function(){var e=Number(Math.ceil(_/V.limit).toFixed(0));return Object(S.jsx)(b.a,{previousLabel:"",nextLabel:"",breakLabel:"...",pageCount:e||1,marginPagesDisplayed:2,pageRangeDisplayed:2,activeClassName:"active",forcePage:V.skip/V.limit,onPageChange:function(e){return function(e){var t=Object(n.a)(Object(n.a)({},V),{},{skip:e.selected*V.limit});ee(t),A(t)}(e)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"})},sortIcon:Object(S.jsx)(u.a,{size:10}),data:y})]}),Object(S.jsx)(v.a,{modal:H,setModal:z,dataSelected:E,intl:t,gameName:t.formatMessage({id:"game_name"})+": K3 - "+Object(k.b)(t).find((function(e){return e.value===Z})).label})]})}t.default=Object(i.c)(Object(r.memo)(N))}}]);
//# sourceMappingURL=96.50675ea3.chunk.js.map